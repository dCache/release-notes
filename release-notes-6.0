HTML header: <title>dCache 6.0 Release Notes</title>
             <!--#include virtual="/template/default-head.shtml" -->
             <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
             <!-- Bootstrap -->
             <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
                   integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous"/>
             <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css"
                   integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous"/>
             <!--link type="text/css" rel="stylesheet" href="jquery.tocify.css" /-->
             <style type="text/css">
             h5 {
                 font-size: 15px;
                 font-style: italic;
                 margin-top: 20px;
             }
             body {
                 padding-top: 20px;
             }
             @media (max-width: 767px) {
                 #toc {
                     position: relative;
                     width: 100%;
                     margin: 0px 0px 20px 0px;
                 }
             }
             @media print {
                 #toc {
                     display: none;
                 }
             }
             </style>

<div class="container">
<div id="banner">
   <div id="bird_large">
      <img src="/images/dcache-banner.png" class="bird"></img>
   </div>
   <div id="sidebar-b">
      <span class="dcache-nav-bar">
      <a href="/index.shtml">home</a>
      |
      <a href="/news.shtml">news</a>
      |
      <a href="/manuals/index.shtml">documentation</a>
      |
      <a href="/downloads/IAgree.shtml">downloads</a>
      |
      <a href="/feedback.shtml">feedback</a>
      |
      <a href="/manuals/googlesearch.shtml">search</a>
      |
      <a href="/imprint.shtml">imprint&#160;</a>
      </span>
   </div>
</div>
<div id="content">

<div class="row">

<div class="page-header">
<h1>What's new in dCache 6.0<br/>
<small>Release notes</small></h1>
</div>

## Highlights

- The nfs door will return error NO-SPACE when all pools are full.

- Added control to modify behavior of the pool space sweeper.

- HSM flush queue can be set to behave as either LIFO (last-in-first-out) or FIFO (first-in-first-out).
 


## Incompatibilities

The 6.0 release breaks compatibility of pools with pre-6.0 `dcap` and `srm` doors.
However, the 6.0 doors will work with existing pre-6.0 pools.

## Acknowledgments

We would like to thank HTW-Berlin students David Linke, Lilit Patzwaldt-Sergoyan, Marcel Waldau,
Quentin Kuth, Sophie Schauer, Viktoriia Sulimenko, Vladimir Vilenchik, Johann Gillhoff and Dieter
Weber from FZ-JÃ¼lich for their contributions.

## Release 6.0.32

### biiling

The current relase fixed  unit info for bandwidth measurements in billing.properties (bytes/sec, not MiB/sec).


H: 926593db81 6c4faecd00 ccf4760d4b ff4c87638f 61b7931b78
R: 7.0.1 6.2.13 6.1.21 6.0.32 5.2.38
### frontend

Frontend now logs any time it returns 500 Internal Server Error to the
client.

dcache-view Previously displayed   MB/sec for transfer rate, but the
value is the old KB/sec. This is now improved and pages display the values advertised.


### pool

The current release assures  now  that  checksum scanner wiill mark files broken and sends alarm.


### webdav

An HTTP-TPC transfer will abort automatically if transfer-manager is
restarted, without waiting for the client (FTS) to time-out.


### Changelog 6.0.31..6.0.32

<!-- git log 6.0.31..6.0.32 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[35e807978b](https://github.com/dcache/dcache/commit/35e807978b2904bc5a994439c9b2be4fcbfe1add)
:   [maven-release-plugin] prepare release 6.0.32

[ff4c87638f](https://github.com/dcache/dcache/commit/ff4c87638f1095099d15473af1784413f62d84e3)
:   dcache-pool: Assure checksum scanner marks files broken and sends alarm

[730ff2d04d](https://github.com/dcache/dcache/commit/730ff2d04db3e6099994700864688794ac11e39c)
:   webdav/transfermanager: fail gracefully on restart, for perf marker

[e32207f4c1](https://github.com/dcache/dcache/commit/e32207f4c1ba9d5e2e508d5223637ad73a7202a0)
:   default: fix unit info for bandwidth measurements in billing.properties

[4787b1cc0e](https://github.com/dcache/dcache/commit/4787b1cc0e18232904c9b19972edd4d51b6dcb99)
:   frontend: create a log entry when we return 500 Internal Server Error

[ecde32dece](https://github.com/dcache/dcache/commit/ecde32deceba90c9e61978cd7ce86c193c596a5c)
:   dcache-frontend: change transfer rate to compute what it advertised

[1bfe66ab92](https://github.com/dcache/dcache/commit/1bfe66ab925519623e527dc256b62ca65b09720b)
:   [maven-release-plugin] prepare for next development iteration

## Release 6.0.31

### book


A new section is added to the xrootd chapter explaining the need for
SAN extensions on the hostcert in the case of hostname aliasing.

### ftp

Globus transfer service can now list directories that contain incomplete
files, those that are still being uploaded.

The FTP no longer leaking sockets when dynamically calculating file
checksums (e.g., MD5). In practise, this issue only affects transfers
via the Globus transfer service.

The current release fixed  Globus transfer service directory listing for `medium` size
directories.

The current release fixed  Globus transfers hanging when `verify file integrity after transfer`
is enabled and the pool is not configured to calculate an MD5 checksum.

Honour the `ftp.net.internal` configuration property for dynamic
checksum calculation.


### Changelog 6.0.30..6.0.31

<!-- git log 6.0.30..6.0.31 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[225e54085b](https://github.com/dcache/dcache/commit/225e54085bb24617a9e36e674654e8633908efda)
:   [maven-release-plugin] prepare release 6.0.31

[4770615905](https://github.com/dcache/dcache/commit/4770615905431b23ee519639683745548d2231ee)
:   ftp: do not leak sockets when calculating checksums dynamically

[5f7ec6adaa](https://github.com/dcache/dcache/commit/5f7ec6adaab9062ef9759c103b7eb8ac9b582f2b)
:   ftp: add work-around to calculate MD5 for Globus

[db0744724b](https://github.com/dcache/dcache/commit/db0744724b766fbe82eb7e56888c129516f4dd87)
:   ftp: add place-holder file size work-around for Globus directory listing

[15288cd22b](https://github.com/dcache/dcache/commit/15288cd22b8253d43e25c89959014d9a32091fa7)
:   rpm take build directory path into quotes

[c1733525e2](https://github.com/dcache/dcache/commit/c1733525e24eac7e2418929467fc86fbe8e5290e)
:   ftp: fix MLSC support for medium-length directories

[003133a130](https://github.com/dcache/dcache/commit/003133a1303de51d7452e43c39945b45a01a3a7b)
:   ftp: fix on-the-fly checksum calculation

[e72691268c](https://github.com/dcache/dcache/commit/e72691268c878a4a840e3c2304375c8af70bdd43)
:   book: document host alias issue with xroot TPC

[02e2b57299](https://github.com/dcache/dcache/commit/02e2b57299af246d65507a1e16ae4411903f9fec)
:   [maven-release-plugin] prepare for next development iteration

## Release 6.0.30

### pool

The current release fixed a problem where redirected transfers involving the client uses
HTTPS when communicating directly with the pool would fail under
moderate-to-heavy load.

### services

Recovery processe in the case where a pool's message queue is overloaded,
as old (and now useless) requests may be simply discarded is improved.


### webdav

There were  reports of the access log file missing entries. This problem
seems to be triggered if the client disconnects before dCache has
finished processing the request, which is certainly true for cancelled
HTTP-TPC transfers. This is now fixed.

### xrootd

The xroot protocol access log entries for the xrootd door and pool have
been enhanced to include information about the kXR_query requests.


### Changelog 6.0.29..6.0.30

<!-- git log 6.0.29..6.0.30 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[f984cc20f0](https://github.com/dcache/dcache/commit/f984cc20f09cc007b836e7c7febbbc9e6a7c6787)
:   [maven-release-plugin] prepare release 6.0.30

[9cd191c748](https://github.com/dcache/dcache/commit/9cd191c7485aa9a7a83c8f11c04caf99aeb09da0)
:   pom: fix release branch name

[5778be0325](https://github.com/dcache/dcache/commit/5778be0325a3064f588785b3f81db8fdd6d9d637)
:   prepare for next development iteration

[d70e594ae9](https://github.com/dcache/dcache/commit/d70e594ae907275d203ee38296c7c6718ddff398)
:   TransferManager: choose better pool query message TTL

[146e55d202](https://github.com/dcache/dcache/commit/146e55d202c383ce053166495b4741c1623af3c8)
:   webdav/frontend: ensure cancelled HTTP-TPC transfers are logged

[2625c3709e](https://github.com/dcache/dcache/commit/2625c3709ec01b0bde4f88b7e045f01152ef1247)
:   xrootd/pool: improve access log to record more details of kXR_query

[14deee45a0](https://github.com/dcache/dcache/commit/14deee45a02e80538c1549d3c329024eabdcf37e)
:   pool: fix HTTPS support under heavy load

## Release 6.0.29

The current release fixes EGI-SVG-2020-16939 vulnerabilities.




## Release 6.0.28

### xrootd

The xrootd4j version was updated to 3.5.8.



### Changelog 6.0.27..6.0.28

<!-- git log 6.0.27..6.0.28 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[d647526b1f](https://github.com/dcache/dcache/commit/d647526b1f5b9b3e3ddcfa5dd432dfc3a76c2526)
:   [maven-release-plugin] prepare release 6.0.28

[42a2d62d79](https://github.com/dcache/dcache/commit/42a2d62d79fd20f4bc79fa921bd67ada630cec68)
:   pom: update xrootd4j to 3.5.8

[5f17f7552c](https://github.com/dcache/dcache/commit/5f17f7552c6c4498ef9d1ed530e9a6842afbf6a4)
:   [maven-release-plugin] prepare for next development iteration

## Release 6.0.27

### pool

The mover thread is not interrupted outside of IO activity to avoid disabling of repository.

HTTP-TPC transfers where dCache pushes data to an Apache server (for example as used by Dynafed) will now work for zero-length files.


### webdav

HTTPS-PUT requests are now possible.

### Changelog 6.0.26..6.0.27

<!-- git log 6.0.26..6.0.27 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[7045cbd023](https://github.com/dcache/dcache/commit/7045cbd023cc93baaad5b788fc9e1bec099bbc8e)
:   [maven-release-plugin] prepare release 6.0.27

[dc91e503c8](https://github.com/dcache/dcache/commit/dc91e503c8942157b29d5354a0a3fd53711da1a1)
:   pool: http-tpc do not loop if HEAD 'Content-Length' response is missing

[c7f59c4136](https://github.com/dcache/dcache/commit/c7f59c4136ea95b78dc6b80b4ccde3be1f941002)
:   webdav:HTTPS PUT req issue

[772dfb4d70](https://github.com/dcache/dcache/commit/772dfb4d700abb666e3ec20f5a4be9e178fcca8d)
:   pool: preserve CDC on p2p transfer

[03f76b3825](https://github.com/dcache/dcache/commit/03f76b38259a86b535db4bffca5986118575ae61)
:   pool: http-tpc drop 'Accept-Encoding' on HEAD requests

[104e1f3d29](https://github.com/dcache/dcache/commit/104e1f3d29e8544746fa56651dcca42fdfb759d5)
:   pool: detach IO thread when mover finished

[60ceb8f322](https://github.com/dcache/dcache/commit/60ceb8f322f7eee9689bee7a7de715f4654211fc)
:   [maven-release-plugin] prepare for next development iteration

## Release 6.0.26

### pool

dCache pools now support GSI-based xrootd-TPC by default.


### Changelog 6.0.25..6.0.26

<!-- git log 6.0.25..6.0.26 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[426663d3bb](https://github.com/dcache/dcache/commit/426663d3bb60fd78d48ef18847901ae93eb5d332)
:   [maven-release-plugin] prepare release 6.0.26

[94f963b84b](https://github.com/dcache/dcache/commit/94f963b84b5f50d4ec7133a734fdb0553c97c50c)
:   pool: update xrootd-tpc authenication default

[76aada58de](https://github.com/dcache/dcache/commit/76aada58de9a6bce8c653ec8c889f2555b619bb1)
:   [maven-release-plugin] prepare for next development iteration

## Release 6.0.25

### enstore

Enstore storage info provides works with URI based tape locations now.

### pool


The HTTP-TPC PUSH requests (which use the HTTP PUT request to send data)
are now more robust against slow remote servers that redirect the
transfer.

The current release fixed  NullPointerException bug in MongoDB-backed pool metadata storage 
and SpotBugs NORMAL-level warning.

With the chenges introduced in current release, when using HTTP-TPC, the timeouts dCache pool uses when requesting
information from the remote server have been adjusted, based on
operational experience. In general, dCache will now wait longer for the
remote server to complete any post-processing before giving up and
failing the transfer.


### Changelog 6.0.24..6.0.25

<!-- git log 6.0.24..6.0.25 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[32d890de2a](https://github.com/dcache/dcache/commit/32d890de2ad3022c59089605be0cb73bb1f9e83c)
:   [maven-release-plugin] prepare release 6.0.25

[6721d7ec5e](https://github.com/dcache/dcache/commit/6721d7ec5ecd706e7a7d7661776f9badaadb6527)
:   chimera: update EnstoreStorageInfoExtractor to use FileState

[328a8c2161](https://github.com/dcache/dcache/commit/328a8c2161aaabb1a2f2912a3ae8e2a6d2d4b62c)
:   chimera: use UTF-8 constant instead of string in ChimeraEnstoreStorageInfoExtractor

[d1d5ebb0b6](https://github.com/dcache/dcache/commit/d1d5ebb0b6deb71951fa78efc69f7f7619813ac8)
:   enstore: populate the correct storage info information on set

[9b2df0fd20](https://github.com/dcache/dcache/commit/9b2df0fd20b9fd6be3df0e38dc216ae3cd596e32)
:   pool: http-tpc adjust GET and HEAD request timeouts

[62b036ae01](https://github.com/dcache/dcache/commit/62b036ae0124814606ff4750ab258aa5b8f0500f)
:   libs: use mockito 3.2.4, powermock 2.0.4 and hamcrest 2.2

[c562e7b129](https://github.com/dcache/dcache/commit/c562e7b1293733de7d2ac2ad678f35c7ae970173)
:   pool: http-tpc PUT request are repeatable

[6f0ca2134f](https://github.com/dcache/dcache/commit/6f0ca2134fda5a271135901fbcefa04b8f34c65f)
:   pool: support removing MongoDB storage-info entry

[ca20fb6433](https://github.com/dcache/dcache/commit/ca20fb64336533c4cda6ab43d5c2384a5cd0255a)
:   [maven-release-plugin] prepare for next development iteration

## Release 6.0.24

### chimera

Filenames containing brackets are no longer treated as magic dot files.

### dcap

Sometimes file restores on dCap door were hanging. This is now fixed.


### Changelog 6.0.23..6.0.24

<!-- git log 6.0.23..6.0.24 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[3290aa5e2e](https://github.com/dcache/dcache/commit/3290aa5e2eeaa8fdcb857610da809a646573eb07)
:   [maven-release-plugin] prepare release 6.0.24

[a1ffd1e783](https://github.com/dcache/dcache/commit/a1ffd1e78323455e151f794604091361ff23d848)
:   [maven-release-plugin] prepare for next development iteration

[bf0273dc3d](https://github.com/dcache/dcache/commit/bf0273dc3d4966473a16063c3a0aeb5d2bd8e884)
:   dcap: fix automatic door retry on transient errors

[564da3a027](https://github.com/dcache/dcache/commit/564da3a027a66fb56bfdcafb6c1e8b3a16c03ded)
:   chimera: fix dot file parser to handle weird file names

## Release 6.0.23

### gplazma

X.509 certificates that use the "SHA-384 with RSA" algorithm are now
logged with this name instead of the raw OID value.

### httpd

The current release fix pool usage color scheme css used for UsageInto and PoolInfo pages.


### pool

dCache pools that are undertaking HTTP-TPC transfers will now wait
longer for the remote servers to complete any post-transfer activity.
Transfers that involve heavily loaded remote servers are now more likely
to succeed.


### Changelog 6.0.22..6.0.23

<!-- git log 6.0.22..6.0.23 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[508fb085c2](https://github.com/dcache/dcache/commit/508fb085c258dbb5e821b81c24ece6ef2344ffff)
:   [maven-release-plugin] prepare release 6.0.23

[236e385bd3](https://github.com/dcache/dcache/commit/236e385bd391955f54ee4b6ffda3b47a88cec827)
:   pool: http-tpc increase timeout waiting for remote server post-processing

[bd9147d19c](https://github.com/dcache/dcache/commit/bd9147d19c49c8501539aa8040b596a9c1646cef)
:   gplazma: include additional algorithm in LoginResultPrinter

[774b674fd2](https://github.com/dcache/dcache/commit/774b674fd2d0f7f34084589c09c5a0ecaac21d4a)
:   httpd: fix pool usage color scheme css

[dfa3e8f3a4](https://github.com/dcache/dcache/commit/dfa3e8f3a48ab8f1a63013fc84be2df54c8168c2)
:   [maven-release-plugin] prepare for next development iteration

## Release 6.0.22

### nfs

The current release fixed previously observed  infinite WRITE+COMMIT loop.


### Changelog 6.0.21..6.0.22

<!-- git log 6.0.21..6.0.22 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[046e32aa7d](https://github.com/dcache/dcache/commit/046e32aa7d797a63480eb43e2e2f5b3b03a8bef5)
:   [maven-release-plugin] prepare release 6.0.22

[18f2c91e4e](https://github.com/dcache/dcache/commit/18f2c91e4e1143f1b06d4bc27c6bc8e7ef55f8ea)
:   nfs-proxy: op WRITE must use the same verifier as COMMIT

[31e8877b0d](https://github.com/dcache/dcache/commit/31e8877b0d35f9ef6ef8676e011b7e98deb016e5)
:   [maven-release-plugin] prepare for next development iteration

## Release 6.0.21

### dcache

There have been several occasions where in a dCache instance using an embedded ZooKeeper server such HA services stopped working because 
an ephemeral node was elected leader that has no associated service anymore; it should have been deleted. 
This state might go undetected for a longer time, and removing such stale nodes in order for the services to continue functioning as intended requires manual intervention.

This is fixed now and the functioning of HA services using ZooKeeper-based leader elections is more reliable.

### resilience

A more robust handling of PSU changes which remove pool, unit or group
mappings was introduced.

Recently introduced improvements changed the way resilience handles file "removal"
(no longer setting the repository entry to 'removed'
but simply by caching the replica).
This change, however, did not take into account
the handling of broken files.  Encountering
a broken file, it would indiscriminately attempt
to remove it, whether it was cached or not;
this was leading to an infinite loop, with the
file operation continuously iterating without
doing any further work. This situation could potentially hang the pool scans
(if there are as many broken files as there are
scan threads), and even the file operation
queue. The current release fixed this issue and there is no  any potential for stalled
operations when encountering broken replicas.


### Changelog 6.0.20..6.0.21

<!-- git log 6.0.20..6.0.21 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[bad12d5861](https://github.com/dcache/dcache/commit/bad12d586169076aa72eb4731634b49d977c66e4)
:   [maven-release-plugin] prepare release 6.0.21

[0757b10d5a](https://github.com/dcache/dcache/commit/0757b10d5a0d24aa9aac7b6cd0e6b7aad4f7d291)
:   dcache-core: fix embedded ZooKeeper persisting stale ephemeral nodes

[e314716e5f](https://github.com/dcache/dcache/commit/e314716e5fce4f65557ddb15a463b86f7fcaab22)
:   dcache-resilience: ignore broken cached files

[3b4a535cf5](https://github.com/dcache/dcache/commit/3b4a535cf535fa156e28a69a30657dc86ed47414)
:   dcache-resilience: protect access of pool info map against NoSuchElementException

[7770b37768](https://github.com/dcache/dcache/commit/7770b377684a0b72091f60008da18e4732a5179a)
:   [maven-release-plugin] prepare for next development iteration

## Release 6.0.20

### macaroons

Fixed macaroons validation where in case of multiple combined caveats for some of them only the digital signature was checked.

### resilience

If a FileOperation is canceled while its subtask is running a NullPointerException was thrown. This is now fixed.


### Changelog 6.0.19..6.0.20

<!-- git log 6.0.19..6.0.20 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[0b4e7d1fa6](https://github.com/dcache/dcache/commit/0b4e7d1fa670cf2942a59466d037c51516ef7489)
:   [maven-release-plugin] prepare release 6.0.20

[eff9c3f075](https://github.com/dcache/dcache/commit/eff9c3f075bc8b63cd0820e0a5dbbdc029853ae7)
:   dcache-resilience: avoid NPE in file operation cancel

[bc17f5eadd](https://github.com/dcache/dcache/commit/bc17f5eaddcadcb018087944559ef4f535f43b98)
:   macaroons: verifyCaveat should return false for unprocessed caveats

[a21de12fd3](https://github.com/dcache/dcache/commit/a21de12fd372b2deeffc41de3ec64ccbcfb80dc3)
:   [maven-release-plugin] prepare for next development iteration

## Release 6.0.19

### cleaner

Database passwords can now be stored in a dedicated file.


### pool

Failing HTTP-TPC transfers where the remote party sends a 
malformed RFC 3230 checksum value are now fixed.


### util

The current release fixed pgpass file handling for jdbc URLs with options, like 
jdbc:postgresql://dbhost:5432/foo?prepareThreshold=3



### Changelog 6.0.18..6.0.19

<!-- git log 6.0.18..6.0.19 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[db9f98c3be](https://github.com/dcache/dcache/commit/db9f98c3be0be7f29c6ae32520592acdd695b5dd)
:   [maven-release-plugin] prepare release 6.0.19

[7bed59181a](https://github.com/dcache/dcache/commit/7bed59181a74b62357aad4be16accd239f665782)
:   pool: do not fail transfer if RFC3230 is badly formed.

[4b9b9a1deb](https://github.com/dcache/dcache/commit/4b9b9a1deb4c8d3fc0b4a7b374c0bbc1006242d9)
:   util: fix pgpass support for jdbc urls with options

[3109f11ed8](https://github.com/dcache/dcache/commit/3109f11ed87675ce22e04f9a78b3dc9ada397884)
:   cleaner: add support for db password file

[2d3fd04004](https://github.com/dcache/dcache/commit/2d3fd04004bcc1b8be867c0b54adae98d5e6f1ec)
:   [maven-release-plugin] prepare for next development iteration

## Release 6.0.18

### pool

The current release fixed interrupted p2p transfer issue and the pool should not be disabled.


### Changelog 6.0.17..6.0.18

<!-- git log 6.0.17..6.0.18 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[332cd57](https://github.com/dcache/dcache/commit/332cd57ed6ffe593de04c3a9b8a4e130a944872c)
:   [maven-release-plugin] prepare release 6.0.18

[8800539](https://github.com/dcache/dcache/commit/8800539e6ee035fdba5fc04a68366c691d867c72)
:   pool: rework interrupt processing on p2p

[84cbff4](https://github.com/dcache/dcache/commit/84cbff463cbdff8f42ac52a002c08f0e7ff27eb5)
:   [maven-release-plugin] prepare for next development iteration

## Release 6.0.17

### common

dCache no longer logs OIDC access tokens or macaroon.


### dcache-xrootd

The version is upgrated to xrootd4j 3.5.7 with lossen username validation, so that

usernames like `foo.1234:56` are no longer rejected. 


The current release fixed  java.lang.IllegalStateException: ChecksumChannel must not be written to after getChecksums.

TPC client first will be shut down when
the pool netty channel goes inactive.



### pnfsmanager


The current release fixed a  NullPointerException when a file is deleted while a directory listing
is being compiled.

### pool

When a legacy mover is killed by job timeout manager thread interruption
mechanism is used. As mover thread is taken from a thread pool, the next
task might see this interrupted state, if not cleared. This state can be
checked bu other components and trigger false errors: java.lang.InterruptedException THREAD_INTERRUPTED: InterruptedException.

This is now fixed and  pool is not disabled itself after slow running mover is killed by jtm.


### Changelog 6.0.15..6.0.17

<!-- git log 6.0.16..6.0.17 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[c6d2083](https://github.com/dcache/dcache/commit/c6d20836c947389ae960bd3848a4993989a273cd)
:   [maven-release-plugin] prepare release 6.0.17

[8fc20e2](https://github.com/dcache/dcache/commit/8fc20e25e8ea859a6ffe0eb59491d8b278fe0bef)
:   pnfsmanager: avoid NPE if file is deleted during directory listing

[ff57c72](https://github.com/dcache/dcache/commit/ff57c727e7e95c8a0200e2a3d12b1ed4e01ab038)
:   common: do not log bearer token values.

[f2b406a](https://github.com/dcache/dcache/commit/f2b406a079d92aee2b9d329799cd5275f6692460)
:   pool: rework interrupt processing in AbstractMoverProtocolTransferService

[a7afcc5](https://github.com/dcache/dcache/commit/a7afcc5dcc51781d975e26f3ed992829e6a3087c)
:   dcache-xrootd: bump to xrootd4j 3.5.7

[d4e2007](https://github.com/dcache/dcache/commit/d4e2007141e733474f2a6fce015ad5d437fa2b9d)
:   pool: clean interrupted state after mover complete (again)

[44a2463](https://github.com/dcache/dcache/commit/44a246390534868ac6f33a49c63b66c45d04e8a3)
:   pinmanager: use PoolManagerStub when talking to pool manager

[751ed1a](https://github.com/dcache/dcache/commit/751ed1a17f347c99ce05825b89e2a40f4ed91bc6)
:   pool: clear mover thread's interrupted state before returning to pool

[1a437ec](https://github.com/dcache/dcache/commit/1a437ecb1a6223e3035fccd181a840373930787d)
:   Wrap the client shutdown in try ... catch for InterruptedException.

[28e89f7](https://github.com/dcache/dcache/commit/28e89f7b87b4f89c7faf2d3e23b5549357cae762)
:   dcache-xrootd: cancel TPC transfer when client disconnects unexpectedly from pool

[1a0de70](https://github.com/dcache/dcache/commit/1a0de70c1e5787ac69e9ad4891596e6282ad29c5)
:   [maven-release-plugin] prepare for next development iteration



<!-- git log 6.0.15..6.0.16 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[69a414b](https://github.com/dcache/dcache/commit/69a414b5d518ca5ece07660991acf1c07d7a4b89)
:   [maven-release-plugin] prepare release 6.0.16

[14d7012](https://github.com/dcache/dcache/commit/14d7012d1230f781c9cb4d90aed8113f879e3e79)
:   pool: repository account capacity correctly if file channel closed

[6bedeeb](https://github.com/dcache/dcache/commit/6bedeeba445d8387e03ae1c5301fa7bc0da07e4a)
:   [maven-release-plugin] prepare for next development iteration

## Release 6.0.15

### frontend

The frontend's inotify-over-SSE now honour the 'frontend.root'
configuration property and any user-specific root.  This
means that, for any inotify subscription, the path is
calculated relative to the doors' root and the user-specific root.
For many dCache sites, this has no impact as they are using the
default for both; however, the user root is used to implement the 
macaroon's 'root' caveat.  The current release  fixed how inotify
subscription requests are processed when made with a macaroon with a 'root'
caveat.


### pool

When making an HTTP third-party copy (HTTP-TPC), dCache no longer sends
the 'Authorization' HTTP request header in any subsequent request when
the remote server responds with a redirection.



The unix xrootd tpc security plugin was included in order to
enable the dCache TPC client to use a dCache pool as source
when signed hash verification is on. However, this is now fixed  and
no special configuration necessary for organizations (like Tier 1)
needing to communicate with EOS.  



### Changelog 6.0.14..6.0.15

<!-- git log 6.0.14..6.0.15 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[ac1c43f](https://github.com/dcache/dcache/commit/ac1c43f5e1094d4183390ec4f3f3ebbc7068911a)
:   [maven-release-plugin] prepare release 6.0.15

[ee7fbbd](https://github.com/dcache/dcache/commit/ee7fbbd77b1f5f6139a74c1ebc2ae88960d9c846)
:   pool (xrootd): make tpc security plugin default unix

[9350a99](https://github.com/dcache/dcache/commit/9350a99def516ac2f09617b0041dbcd67b4aca4a)
:   docs: add missing architecture diagram

[cb96be6](https://github.com/dcache/dcache/commit/cb96be6dd62eae1a5ecbfd51fe16984f29e6813a)
:   frontend: honour door and user root for inotify subscriptions

[fc2e677](https://github.com/dcache/dcache/commit/fc2e677db3d8f232906b46abaf3c628e43e484fc)
:   frontend: refactor inotify client-path to dCache-path mapping

[ca8e483](https://github.com/dcache/dcache/commit/ca8e4831214a28107d6e5c55212dc44b74488574)
:   frontend: add SelectionContext for event subscription

[dd80e6e](https://github.com/dcache/dcache/commit/dd80e6ee5b98dba796b9d0113e9c658ad0989758)
:   docs: UserGuide fix missing back-tick

[b15426d](https://github.com/dcache/dcache/commit/b15426da052b92b0301cca2f5978c88ab87ee692)
:   pool: drop Authorization HTTP header on redirected

[c7ceb0a](https://github.com/dcache/dcache/commit/c7ceb0a0691f186a582e598fb63dc80f5107a272)
:   [maven-release-plugin] prepare for next development iteration

## Release 6.0.14

### frontend

When frontend is run in a core domain and there is
no history service reachable, the retry on no route
to cell ends up spamming the message queues. This is now fixed.


### login-broker

The `lb set update` command ignored the provided value and set the
existing one again. This is now fixed and  `lb update time`s can be modified through admin interface.

### nfs

The current release added modifications such as do not wait for mover to shutdown for reads, which was  blocking client and wait until mover is actually stopped. This modification resulted slight performance improvement for IO on small files.


### xrootd

The current release fixed compatible level security for sigver. 

The xrootd client has a command-line option, `--path`, which
tells the server to create missing directories. This option
is included in two-party copy, but setting it for TPC has
no effect. TPCs which wish to write to dCache (as destination)
to a non-existent subdirectory fail. This is now fixed and dCache no longer fails in these cases.


### Changelog 6.0.13..6.0.14

<!-- git log 6.0.13..6.0.14 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[cd0a013](https://github.com/dcache/dcache/commit/cd0a013178828551de98cc65ad9dfce351216ac3)
:   [maven-release-plugin] prepare release 6.0.14

[78c7f22](https://github.com/dcache/dcache/commit/78c7f220bb9691b79b746d26eeea18353117122a)
:   login-broker: fix 'lb set update' command

[8674d1c](https://github.com/dcache/dcache/commit/8674d1c72c7c80fb6f3ce7c1cc07e977289fc411)
:   nfs: do not wait for mover to shutdown for reads

[074ef81](https://github.com/dcache/dcache/commit/074ef8175646796a313b20b8607bd4c12c0a2633)
:   dcache-xrootd: always create missing directories on write

[53e40c4](https://github.com/dcache/dcache/commit/53e40c47af4ca45c98275c92c2515192846c3052)
:   dcache-xrootd: fix compatible level security for sigver

[c196673](https://github.com/dcache/dcache/commit/c1966736a7c7dc410cb29ce5d63bb6523208097b)
:   dcache-frontend: remove retry flag on sendAndWait to history service

[7f899f3](https://github.com/dcache/dcache/commit/7f899f30186393810f1b7a36e4d350c9b336a52f)
:   [maven-release-plugin] prepare for next development iteration

## Release 6.0.13

### nearline-storage

There were issues  in pool space allocation/de-allocation in conjunction
to HSM connectivity and handling restore errors resulting in failing stage end up with used space miscalculation:
`pool_read, fault occurred in repository: Internal repository error. Pool restart required:,
 cause: java.lang.IllegalArgumentException: Cannot set used space to a negative value`.

This is now fixed and disk copy is removed if restore from HSM failed.



### Changelog 6.0.12..6.0.13

<!-- git log 6.0.12..6.0.13 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[e166369](https://github.com/dcache/dcache/commit/e166369d5d3f4f495fd37e74f5c6bf24e0e99812)
:   [maven-release-plugin] prepare release 6.0.13

[b79d5d0](https://github.com/dcache/dcache/commit/b79d5d05f61527def6878faf75e5abc64a51c394)
:   nearline-storage: remove disk copy if restore from HSM failed

[bc33cb4](https://github.com/dcache/dcache/commit/bc33cb4bed885b66f776b7e8cf25b3bf82cda414)
:   [maven-release-plugin] prepare for next development iteration

## Release 6.0.12

### dcache

QOS migration policy engine was  raising JVM error when no tape pool found. 
This is now fixed and the normal behavior is that HTTP error code reported back with `No HSM pool found`.
 
### frontend

The current release improved error responses and they are more specific  now.

The current release fixed the NPE  stack trace arised because the pool
data could be sent with a default sweeper data
object. 


### Changelog 6.0.11..6.0.12

<!-- git log 6.0.11..6.0.12 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[e685df0](https://github.com/dcache/dcache/commit/e685df02e362afaca66566d1ec5f2a66d9553fa2)
:   [maven-release-plugin] prepare release 6.0.12

[7b2a4b3](https://github.com/dcache/dcache/commit/7b2a4b375104b1b6aeb8aeab84d9f6af03d7cd7c)
:   dcache-frontend: make ErrorResponseProvider return the more specific error message

[febb2ee](https://github.com/dcache/dcache/commit/febb2ee64e91404a8b36d006af7c13cc235372ee)
:   dcache: qos migration policy engine should not raise JVM error when no tape pool foundMotivation:

[8cdca60](https://github.com/dcache/dcache/commit/8cdca60787f391a955ac3295b7776f795f7f943b)
:   dcache-history,dcache-frontend: guard against unconfigured sweeper histogram

[f879381](https://github.com/dcache/dcache/commit/f8793814f65c1c4c9758cf4ed4a2ef81c8722c6e)
:   [maven-release-plugin] prepare for next development iteration

## Release 6.0.11

### frontend

From RESTful admin API, the POST to
`pools/{name}/usage/mode -d {"rdonly":true}` failed  but `{"rdonly": "true"}` succeeded.

This is fixed now and both boolean and string work.

The current release fixed a bug where an SSE client that receives many events without the
connection breaking will eventually exhause all memory in the JVM.

The current release fixed stack trace in logs.


### Changelog 6.0.10..6.0.11

<!-- git log 6.0.10..6.0.11 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[672a02e](https://github.com/dcache/dcache/commit/672a02e9201d3b5dd99130cadd25291b8685877b)
:   [maven-release-plugin] prepare release 6.0.11

[f28c1fe](https://github.com/dcache/dcache/commit/f28c1fe7b6875b80e3bf49bcc45081ecbb8e73de)
:   dcache-frontend: allow pool enable/disable to use boolean JSON value

[59390f2](https://github.com/dcache/dcache/commit/59390f28121c67183b61a4568d85c48e98d85615)
:   dcache-frontend,history: protect against missing highest bin in histogram data

[482c1e0](https://github.com/dcache/dcache/commit/482c1e067bc2f320575750b20f657e44435a5dc8)
:   frontend: fix memory leak in long-running SSE connections

[52d90a3](https://github.com/dcache/dcache/commit/52d90a38ef85eac2b1bf281d72c2d508d08868ba)
:   [maven-release-plugin] prepare for next development iteration

## Release 6.0.11

### frontend

From RESTful admin API, the POST to
`pools/{name}/usage/mode -d {"rdonly":true}` failed  but `{"rdonly": "true"}` succeeded.

This is fixed now and both boolean and string work.

The current release fixed a bug where an SSE client that receives many events without the
connection breaking will eventually exhause all memory in the JVM.

The current release fixed stack trace in logs.


### Changelog 6.0.10..6.0.11

<!-- git log 6.0.10..6.0.11 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[672a02e](https://github.com/dcache/dcache/commit/672a02e9201d3b5dd99130cadd25291b8685877b)
:   [maven-release-plugin] prepare release 6.0.11

[f28c1fe](https://github.com/dcache/dcache/commit/f28c1fe7b6875b80e3bf49bcc45081ecbb8e73de)
:   dcache-frontend: allow pool enable/disable to use boolean JSON value

[59390f2](https://github.com/dcache/dcache/commit/59390f28121c67183b61a4568d85c48e98d85615)
:   dcache-frontend,history: protect against missing highest bin in histogram data

[482c1e0](https://github.com/dcache/dcache/commit/482c1e067bc2f320575750b20f657e44435a5dc8)
:   frontend: fix memory leak in long-running SSE connections

[52d90a3](https://github.com/dcache/dcache/commit/52d90a38ef85eac2b1bf281d72c2d508d08868ba)
:   [maven-release-plugin] prepare for next development iteration

## Release 6.0.10

### frontend

The current release fixed rename operation handling and added support for OIDC names and Client-IDs with spaces.


### Changelog 6.0.9..6.0.10

<!-- git log 6.0.9..6.0.10 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[bee6677](https://github.com/dcache/dcache/commit/bee6677c5636143da84333c67477c3451277b616)
:   [maven-release-plugin] prepare release 6.0.10

[6d50111](https://github.com/dcache/dcache/commit/6d50111f7c16065aa1bc1f6605db787d32b35a8c)
:   dcache, frontend: release dcache-view version 1.6.1

[6d8d0e3](https://github.com/dcache/dcache/commit/6d8d0e32b61b2868255c37ea017b391639fff1ba)
:   [maven-release-plugin] prepare for next development iteration

## Release 6.0.9

### dcache-view

dcache-view version 1.6.0 is released, with fixed minor issues and errors.

The new release added  support for server-side-event.
 Now  cert user are allowed  to perform rename, improved error messages and  increased display time of the notification message is now available.

### dcache-xrootd

Now door does not fail to start if there
is no voms directory on the host.

### frontend

The current release removed unnecessary login requirement on restores and transfers.

The current release fixed a bug in the frontend if the inotify events are used.

### skel

The current release repaired erroneous batch directives before cell creation.

Now it is fixed and domain is not left in zombie state
after a fatal error, but restarts,
as it should.

### srm

Now   host IP is used for comparison when determining if SURL is local.


### Changelog 6.0.8..6.0.9

<!-- git log 6.0.8..6.0.9 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[51fa4ed](https://github.com/dcache/dcache/commit/51fa4eddb26feb466c5eaafac5e335760faa951a)
:   [maven-release-plugin] prepare release 6.0.9

[d09fae7](https://github.com/dcache/dcache/commit/d09fae779aba74a36fe6f38957ef87412f3f74a9)
:   skel: repair erroneous batch directives before cell creation

[a52cf87](https://github.com/dcache/dcache/commit/a52cf871ebdac6abd92fd26007506260f55bd4d7)
:   dcache-xrootd: don't initialize delegation provider when there is no gsi module

[42838db](https://github.com/dcache/dcache/commit/42838db6e4018bc0b8102ad99cdebbecd28ed842)
:   dcache-frontend: remove unnecessary login requirement on restores and transfers

[f68ad94](https://github.com/dcache/dcache/commit/f68ad94aa0be4b76389cfbf5a3af054d2e8bcb6b)
:   srm: use host IP for comparison when determining if SURL is local

[2a593d9](https://github.com/dcache/dcache/commit/2a593d9bc1ac2f70310f9a6ae57b050e9c20bcf7)
:   frontend: events inotify fix deadlock

[cdfd8a3](https://github.com/dcache/dcache/commit/cdfd8a33793d779ca075a58dd3a649599159e45e)
:   dcache, frontend: release dcache-view version 1.6.0

[f46785a](https://github.com/dcache/dcache/commit/f46785a3448816529506b270692b35d2b4a85101)
:   [maven-release-plugin] prepare for next development iteration

## Release 6.0.8

### cell


Curator client was not able to restore the connection to ZK server after
network partitioning. The is now fixed.


### skel

The current relase fixed tape-reserved size calculation.
### webdav

The current release fixed, where the WebDAV door failed to follow RFC 4918.
This make some clients reject dCache WebDAV door as a valid WebDAV
endpoint.



### Changelog 6.0.7..6.0.8

<!-- git log 6.0.7..6.0.8 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[c226083](https://github.com/dcache/dcache/commit/c2260837b30b54eae0bb3629e4f8a9d9d7d15748)
:   [maven-release-plugin] prepare release 6.0.8

[6bf99a6](https://github.com/dcache/dcache/commit/6bf99a6454fdbe8a23f566a9d61d1cad8ab43dec)
:   Fix tape-reserved size calculation

[cfb0b5d](https://github.com/dcache/dcache/commit/cfb0b5d60a5040c5d1166f8e6c365392111942a4)
:   webdav: include DAV header in OPTIONS requests.

[df1f7eb](https://github.com/dcache/dcache/commit/df1f7eb11dad90cceedf94f9f2ea6daf231990f8)
:   cells: do not re-define zookeeper watcher

[eec3431](https://github.com/dcache/dcache/commit/eec3431d475889f2174bd320181431766bdb3b28)
:   gplazma: multimap support files with multiple primary gids

[eae2717](https://github.com/dcache/dcache/commit/eae271731d5ad839f0c727fb9d1c26682dcbed68)
:   [maven-release-plugin] prepare for next development iteration

## Release 6.0.7

### canl

The current release updated lib version to 2.5.1.

### gplazma

The current release fixed URL-prefix SciToken parsing and error handling if JWT contains
malformed SciToken scopes.

### webdav

When making a cross-origin call to webdav door from e.g.
the frontend by using dcache-view, this call would be
blocked if the client want to forward the user certificate.
This is now fixed.


### Changelog 6.0.6..6.0.7

<!-- git log 6.0.6..6.0.7 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[47a3773](https://github.com/dcache/dcache/commit/47a3773dce983811f0c2c964992cf5c18bd22d68)
:   [maven-release-plugin] prepare release 6.0.7

[b12a440](https://github.com/dcache/dcache/commit/b12a4409cefdd34796fc4607343db0e26f2565ee)
:   gplazma: scitoken add unit tests and fix SciTokenScope

[a38d286](https://github.com/dcache/dcache/commit/a38d2869ab92e1b453252b41b8530015c6726fce)
:   webdav : set Access-Control-Allow-Credentials to true

[49c7a2e](https://github.com/dcache/dcache/commit/49c7a2e26538b0d331eee5f313529432fa0425a2)
:   canl: update to version 2.5.1

[c76d011](https://github.com/dcache/dcache/commit/c76d0114259fab21c828821f663abd9e8ce28b24)
:   [maven-release-plugin] prepare for next development iteration

## Release 6.0.6

### chimera

Enstore client, encp, stores information in layer 4 (level_4). It
was natural to assume that files written directly by encp would have
NEARLINE/CUSTODIAL AccessLatenct/RetentionPolicy. Although, setting
of access latency interferes with QoS.

This is fixed no and `encp` does not interfer with file access latency (say if it is specified to
be ONLINE).

### config

A typo in the dcap config file was fixed correcting 
`dcacp.enable.kafka` to  `dcap.enable.kafka`.
 
### frontend

The current release fixed a NPE bug  (which is then logged as a stack-trace) that
is triggered when the reply does not contain a media type. 

### gplazma

The SciToken plugin will now reject any JWT where there is none of the
expected scopes defined. This allows dCache to support both
OpenID-Connect and SciTokens.

### webdav

The current release fixed an issue of  transfers through dCacheView when the webdav door is configured with
empty `webdav.allowed.client.origins` value, which is the default value. 


### Changelog 6.0.5..6.0.6

<!-- git log 6.0.5..6.0.6 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[a448915](https://github.com/dcache/dcache/commit/a44891507178345618e32996be4b572decded351)
:   [maven-release-plugin] prepare release 6.0.6

[15add3d](https://github.com/dcache/dcache/commit/15add3de729a7d8f4e5dfaa289136654a26abdf9)
:   frontend: avoid NPE when request has no media type

[f7c9f98](https://github.com/dcache/dcache/commit/f7c9f98423b97f7c8bb8044e3bfd7495e4153354)
:   dcache: add null check to pool info collector util

[e18b34e](https://github.com/dcache/dcache/commit/e18b34e3782e67429dacb6926c5c54f02db2215e)
:   config: fix typo in property name

[044fe09](https://github.com/dcache/dcache/commit/044fe091c36e5e663a5bde55bf6e36b57d13fd1b)
:   chimera: do not update access latency on updat/insert in level_4

[e1655c3](https://github.com/dcache/dcache/commit/e1655c32f5ba1adb2bdcf4c20e110cecbe1afef2)
:   gplazma: scitoken fix two issues with SciToken plugin

[39aae1a](https://github.com/dcache/dcache/commit/39aae1a1f58d93474c4dd77fc8451d08823bf775)
:   webdav: fix CORS when all clients are allowed to connect

[f765cb6](https://github.com/dcache/dcache/commit/f765cb6ba3955a85afe78e217dd8583670c58670)
:   [maven-release-plugin] prepare for next development iteration

## Release 6.0.5

### nfs

The current release fixed  NPE on error path.

### srm

The current release fixed  a problem resulting in high CPU use in SrmManager if clients are
attempting to pin a file and PinManager is unavailable.


A regression fixed  where SrmManager will reject all QUEUED jobs and
INPROGRESS BringOnline requests on restart, if there are no SRM doors
running when SrmManager starts.


### Changelog 6.0.4..6.0.5

<!-- git log 6.0.4..6.0.5 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[c54a7c5](https://github.com/dcache/dcache/commit/c54a7c591bc414287a9d080d8f80827c36afcaf1)
:   [maven-release-plugin] prepare release 6.0.5

[cf59f51](https://github.com/dcache/dcache/commit/cf59f51fe2a8ed5b50b99ff8c0ec255cb13237ec)
:   nfs: avoid NPE on error path

[780de79](https://github.com/dcache/dcache/commit/780de795887cdda8184d47d6a0d686fa583712e4)
:   SrmManager: fix handling of saved requests on start-up

[eff62ea](https://github.com/dcache/dcache/commit/eff62ea3d7b26909093a9a92558fe1ee022bb472)
:   SrmManager: avoid spamming if PinManager is down

[e6b3f13](https://github.com/dcache/dcache/commit/e6b3f136f8c1d3e5d6d378ba173720d02444b9db)
:   [maven-release-plugin] prepare for next development iteration

## Release 6.0.4

### doors

The current release fixed a bug  where running the `lb set tags` admin command without any
arguments triggers a NullPointerException.

### pool

The current release improved  error messages about jobs cancellation.

### scripts

The dcache-storage-descriptor command no longer requires a URL argument.


### Changelog 6.0.3..6.0.4

<!-- git log 6.0.3..6.0.4 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[aa0eb9d](https://github.com/dcache/dcache/commit/aa0eb9d717d6deaf3286d50cc7b936f796dab6ac)
:   [maven-release-plugin] prepare release 6.0.4

[15155fd](https://github.com/dcache/dcache/commit/15155fd50e65d11577ae8ad078bc339032f07464)
:   doors: fix "lb set tags" command with no arguments

[f8c13bd](https://github.com/dcache/dcache/commit/f8c13bd4a90965e321a41e250f72b08db7cd67da)
:   pool: improve messages when migration job is cancelled.

[8dd5e4f](https://github.com/dcache/dcache/commit/8dd5e4f563f22d3bf77b0facf5c5a69b10e6aa6a)
:   scripts: fix variable ordering in dcache-storage-descriptor

[222a151](https://github.com/dcache/dcache/commit/222a151bde530e9214fb3f713ce4f119ce9287ae)
:   docs: TheBook add chapter on SRR

[7da7ec0](https://github.com/dcache/dcache/commit/7da7ec0304bfe9ec7b128f97d892598aadc3e6c2)
:   [maven-release-plugin] prepare for next development iteration

## Release 6.0.3

### dcache


The current release restored  pool compatibility with doors sending `Xrootd-2` protocol version.

### gplazma

The SciToken gplazma plugin now supports the audience (`aud`) claim
where the claim's value is an array. This allows dCache to support
SciTokens with multiple audience values.

### pool

Pool health-check log messages now include the pool's name.

### webdav

On an unsuccessful HTTP-TPC pull request, dCache will delete the file.
If  this deletion did not work then an error was  logged. This is fixed now and 
failures to delete the incomplete file from a failed HTTP-TPC pull
request, where the incomplete file has been deleted by some other means
are now logged at DEBUG level, rather than WARN level.

### xrootd

The current release refited checksum handling after xrootd4j bug fix. 


### Changelog 6.0.2..6.0.3

<!-- git log 6.0.2..6.0.3 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[54b4cd2](https://github.com/dcache/dcache/commit/54b4cd2d3caaace732609bad7241c83bc05e6db3)
:   [maven-release-plugin] prepare release 6.0.3

[7077373](https://github.com/dcache/dcache/commit/70773732ad3cddbe4f04db16184de1e47612cac9)
:   dcache-xrootd: refit checksum handling after xrootd4j bug fix

[3c80a39](https://github.com/dcache/dcache/commit/3c80a39b03844db97a41569a380276f1313f4b7a)
:   webdav: avoid logging non-error as an error

[6626085](https://github.com/dcache/dcache/commit/662608582a2d52f568d2bc5c85e420e0ba185aeb)
:   pool: include pool name in health-check reports

[b53e33f](https://github.com/dcache/dcache/commit/b53e33fa9e8cbe202f4980fa7f6bb48ba74a5a6a)
:   gplazma: scitoken add support for multiple audience claims

[764eeaa](https://github.com/dcache/dcache/commit/764eeaaae5dca444167afaa78cbda858e554359d)
:   build(deps): bump jackson-databind from 2.9.10 to 2.9.10.1

[2b65eb8](https://github.com/dcache/dcache/commit/2b65eb80c429f3e5733c05b04c06a4c97c360a71)
:   dcache: restore pool compatibility with doors sending 'Xrootd-2' protocol version

[d2ef379](https://github.com/dcache/dcache/commit/d2ef37912d3888b98542441aec5b344a626cc71d)
:   [maven-release-plugin] prepare for next development iteration

## Release 6.0.2

### frontend

The current release fixed QoS pin semantics.

A bug is fixed in frontend that results in a NullPointerException for
billing queries where no limit is specified.

### srm

Investigation into tape carousel has highlighted limitations in what
dCache logs. In particular, information about the pin lifetime for
srmBringOnline is missing.

This is now fixed and dCache SRM access logging contains information about client's desired
pin lifetime in srmBringOnline requests.

### srmclient

The commands `srm-check-permissions`, `srm-get-permissions`, `srmls`,
`srmmkdir`, `srmmv`, `srm-release-space`, `srm-reserve-space`, `srmrm`,
`srmrmdir` and `srm-set-permissions` now support the `-extraInfo`
command-line option.

### xrootd

The current release  refined error handling by providing  more meaningful (or at least consistent) error responses
to the client.


### Changelog 6.0.1..6.0.2

<!-- git log 6.0.1..6.0.2 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[0e0b409](https://github.com/dcache/dcache/commit/0e0b4096b5c0dc1d643ea078aa656dd06c338484)
:   [maven-release-plugin] prepare release 6.0.2

[a92235c](https://github.com/dcache/dcache/commit/a92235cf462a1f8e93436eab7b460f91294dc20d)
:   build: avoid shipping log4j with dCache

[a34298e](https://github.com/dcache/dcache/commit/a34298ef1f5f15f45075f166e186eefa531ad677)
:   frontend: fix NPE if limit is not specified

[b30e6b9](https://github.com/dcache/dcache/commit/b30e6b908aa07f57e957f50a9039d609d1c0d9a8)
:   srm: improve access logging of srmBringOnline requests.

[57cef0d](https://github.com/dcache/dcache/commit/57cef0de5606a70691274e072ba68fbbf76d6f27)
:   srmclient: complete and tidy-up storageSystemInfo support

[54c9860](https://github.com/dcache/dcache/commit/54c9860a55a54959b2d62f83e2acaca19e55eb44)
:   dcache-frontend: fix QoS pin semantics

[6ec3f30](https://github.com/dcache/dcache/commit/6ec3f300b4dd90837adfe51ae10d3f7fc2d68f0b)
:   dcache-xrootd: refine error handling

[3d2d270](https://github.com/dcache/dcache/commit/3d2d270f84e35d4d437f4112826f05f2c025821c)
:   [maven-release-plugin] prepare for next development iteration

## Release 6.0.1

### Changes affecting multiple services

The Apache Commons Compress library used in dCache was updated to version 1.19.

A rare deadlock situation in the Chimera database was eliminated. In cases
where, within the same directory, concurrent mkdir and rmdir events happened,
transactions within the database could deadlock. This would be indicated by the message

    ERROR: deadlock detected

in the logs.

### pool

A regression introduced in the last release caused a ClassNotFoundException on pool startup
with a message like

    [ERROR] Server responded with an error: [3012] Failed to open file (Protocol Xrootd-4.0:123.32.123.32:38374 is not supported [27])
    
appearing in the logs. This release fixes that issue.

There were reports of extraordinarily high CPU usage on pool nodes with a large
number of cached files. Through an optimization of the `sweeper`, CPU usage
was reduced significantly.

### xrootd

This release fixes a small regression in the `kill mover` command that 
would occasionally fail to kill all targeted movers.

This release fixes a vulnerability in dCache's XRootD protocol implementation. 
We recommend that all sites update their XRootD doors.
Details will be made available through EGI Security and, in a week's time, through an
update to these release notes.


### Changelog 6.0.0..6.0.1

<!-- git log 6.0.0..6.0.1 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[d2d6470bce](https://github.com/dcache/dcache/commit/d2d6470bce71cbb76c47d0105f0e5e2b66ccb599)
:   [maven-release-plugin] prepare release 6.0.1

[adfd06a75d](https://github.com/dcache/dcache/commit/adfd06a75daafc00e23b03077eb058c2fdc3f40a)
:   dcache-xrootd: honor read paths when listing directories

[9557e03701](https://github.com/dcache/dcache/commit/9557e03701bc5f6cd92c648cca0c90d305cb4ced)
:   pool: fix the xrootd version number on pool transfer service

[4d63b90d01](https://github.com/dcache/dcache/commit/4d63b90d0142e12b2fed9e9d1b461d8c199e4614)
:   resilience: don't compare Integer objects by refference

[1cb9f0915a](https://github.com/dcache/dcache/commit/1cb9f0915aa28c8135322dfff1a888b56ede3c4a)
:   xrootd: fix `kill mover` command

[c69949bcde](https://github.com/dcache/dcache/commit/c69949bcde6f58884717b4f99a6bf165607478cb)
:   doors: initialize IdentityResolverFactory after dependency injection

[de0c138a25](https://github.com/dcache/dcache/commit/de0c138a254fc237ca78bcbe946f49d267f446e6)
:   sweeper: use in-memory map instead of repository for histogram data

[e0f39a9611](https://github.com/dcache/dcache/commit/e0f39a961140db3e58d326aa09214bd1854bf810)
:   dcache-xrootd: replace constants for version number

[02e2e92eaf](https://github.com/dcache/dcache/commit/02e2e92eaf6b3875887489bfa7f5560c96fbde68)
:   dcache-xrootd: update protocol version numbers

[371f03a0a9](https://github.com/dcache/dcache/commit/371f03a0a9832c7e58b3555be3df009c4482e1d5)
:   libs: update apache.commons:commons-compress to 1.19

[58ca3e70cf](https://github.com/dcache/dcache/commit/58ca3e70cf43a5fcfcee9630ae4c301a0b2a06b2)
:   Update config-PoolManager.md

[4a80fb0815](https://github.com/dcache/dcache/commit/4a80fb08151546eb547aa3575c22f13544e128c3)
:   chimera: fix ABBA db deadlock when mkdir and rmdir run concurrently

[81a5497044](https://github.com/dcache/dcache/commit/81a54970444080c221dcb942a01dd2cb1b84f3bc)
:   [maven-release-plugin] prepare for next development iteration

## Release 6.0.0

### Cells

fixed core domain discovery. Now on the zookeeper path `dcache/lm/cores-uri` is always used and the old
location `dcache/lm/cores` is for bakward compatibility only.

### DCAP

Remove `strict-size` control channel option that was required for legacy 'Pnfs'.

### Frontend

The QoS management in the restful api contain metadata object which provide information
about the media QoS class. And one the values this metadata might show is the possible 
data's geographic placement. Previously, this value is hardcoded to be DE. Now, the admins 
have the possibility to set this value to a specify country (or countries). This can be 
done via `frontend.geographic-placement` property. The property accept comma seperated 
list of ISO-3166 alpha-2 codes.

### httpd

Update old https admin pages legend to describe pool space usage.
Escape status field string in  `/poolInfo/restoreHandler/*` so that it is not
confused with html statement.

### NFS

The nfs door will return error NO-SPACE when all pools are full. However, when a pool is not online yet
(disabled due to startup procedure), then client is instructed to try later.
Updated the underlying nfs code implementation.
NFS door will automatically re-try pool selection when all pool are off-line.
Added ability to query supported checksum types:

```
    cat ".(checksums)()"

```

Added ability to set file checksum(s) via dot command. This is useful for some
HSM clients. A regular user can only set one checksum (type, value) pair, and cannot
overwrite existing values. A root user is allowed to set multiple types
(successively) and also to overwrite values for any type.

```
    touch foo
    touch ".(fset)(foo)(checksum)(ADLER32)(ffffffff)"
```

Fix formatting of error message in Checksum.

### Pool

Added control to modify behavior of the pool space sweeper. Normally, when a pool is 100% full,
the pool sweeper would remove just enough replicas to accomodate a new file. The variable has
been added to adjust the amount of space released by sweeper:

```
    pool.limits.sweeper-margin=0.0

```

meaning that if set different from 0.0 then that fraction of the total pool space will be released
when the pool is 100% full and it has to accept a new file replica. This behavior is designed to eliminate
continuous removal when writing (or staging) to pools that are always full to avoid disk thrashing at
the expense of slighly reduced replica lifetime. 0.0 means no change to existing behavior.
HSM flush queue can be set to behave as either LIFO
(last-in-first-out) or FIFO (first-in-first-out).  This can be done statically using
the property:

```
    (one-of?fifo|lifo)pool.flush-controller.queue-order=fifo
```

in the setup file:

```
    flush set queue order lifo
```

or by using the admin command itself:
```
   \s <pool-name> flush set queue order lifo
```

### Pool Manager

In situations when all pools with requested file are off-line "Pool unavailable" message logged as warning. Before
is was treated as a fatal error.
### Resilience
Added command to detect files all of whose replicas are on a given set of pools. Useful
to handle pool decomissioning.

```
   contained in
```

The argument to this command is a regular expression defining a set of
pools to check. Running that command over
the set of pools to be drained and removed will provide a list of
pnfsids for which some sort of manual action/migration will be necessary,
since they will be alarmed as 'inaccessible' by resilience.
Fixed remove count when replica is precious.


### WebDAV

Option method request is now properly handled even if the site does not allow
anonymous operation.

A PUT request that targets an existing collection resource (a directory)
will now return the correct status code (405) instead of 500 Internal Error.



### Changelog from 5.2.0 to 6.0.0

<!-- git log 5.2..6.0 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[58ca3e7](https://github.com/dcache/dcache/commit/58ca3e70cf43a5fcfcee9630ae4c301a0b2a06b2)
:   Update config-PoolManager.md

[4a80fb0](https://github.com/dcache/dcache/commit/4a80fb08151546eb547aa3575c22f13544e128c3)
:   chimera: fix ABBA db deadlock when mkdir and rmdir run concurrently

[81a5497](https://github.com/dcache/dcache/commit/81a54970444080c221dcb942a01dd2cb1b84f3bc)
:   [maven-release-plugin] prepare for next development iteration

[c91b832](https://github.com/dcache/dcache/commit/c91b832037779d917e48611fd0be86cb8d55edad)
:   [maven-release-plugin] prepare release 6.0.0

[1ac7ff5](https://github.com/dcache/dcache/commit/1ac7ff5e574e866c9922f0e9d92d16318aaeae54)
:   Revert "docker: Add a way to create docker image"

[f204094](https://github.com/dcache/dcache/commit/f204094ab35f9173b7920fb25a5f894f5c9a37d9)
:   dcap: restart pool selection on OUT-OF-DATE error

[b732136](https://github.com/dcache/dcache/commit/b732136fd47bf45ea33b2ca697a0777e2ecd2284)
:   gplazma-ldap: avoid thread leak by explicitly close NamingEnumeration

[1a9b880](https://github.com/dcache/dcache/commit/1a9b8800bdd84da7b1ef7c6b5b714ffd4ed5837a)
:   [maven-release-plugin] prepare branch 6.0

[d293b1e](https://github.com/dcache/dcache/commit/d293b1e39e7af89e3ff1d78a49aa109b79d3ece3)
:   flush controller: fix wrong setter type for queue order

[fd70b68](https://github.com/dcache/dcache/commit/fd70b689c3568b154c8b24c9a26946765db490d7)
:   libs: update jackson-databind to 2.9.10

[5b5e789](https://github.com/dcache/dcache/commit/5b5e789d6b566ed52d812a967d99d0e93e64468f)
:   docs: UserGuide fix formatting issue with worked example

[cf61aea](https://github.com/dcache/dcache/commit/cf61aeaa46dd02c7c56762469670522277d2215d)
:   docs: UserGuide add initial version of third-party transfer documentation

[0dd6c45](https://github.com/dcache/dcache/commit/0dd6c45c1d5476f29072238c703e6cd6b3c7c267)
:   pools: make flush queue configurable as FIFO or LIFO

[6a5c3df](https://github.com/dcache/dcache/commit/6a5c3dfc263e2fc38d89abe27c66e574a127ef27)
:   core: fix code formatting and javadoc of StickyRecord

[665a774](https://github.com/dcache/dcache/commit/665a774f5622da76d36eb01b5568f8d2b14f1398)
:   pool: allow margin option on sweeper when reclaiming space

[4acfa2b](https://github.com/dcache/dcache/commit/4acfa2b1e653269c384a26a92c123445cca18c90)
:   docs: UserGuide minor fixes to the WebDAV chapter

[e7d3771](https://github.com/dcache/dcache/commit/e7d3771426e92f94e6d9d3e85dc25909bab4aa13)
:   docs: UserGuide add a description for how to request macaroons

[deb5cce](https://github.com/dcache/dcache/commit/deb5ccee2433318286b75928f2c38082a37955f4)
:   docs: UserGuide mark-up quoted XML.

[68b13d0](https://github.com/dcache/dcache/commit/68b13d0b17a533bbac85bb28c86197b4247241aa)
:   docs: UserGuide first iteration on WebDAV description

[ec7babb](https://github.com/dcache/dcache/commit/ec7babbaa598f2eea76988a7ec7858e5344c0575)
:   httpd: escape status field in HttpPoolMgrEngineV3

[3dca2b5](https://github.com/dcache/dcache/commit/3dca2b59a2486cd717daaeade94368ed388e8aea)
:   webdav: add allow header to OPTION method request

[cd967a3](https://github.com/dcache/dcache/commit/cd967a3aa6d54cf9dbba7181f91ccbcace147db6)
:   docs: describe pools job timeout manager

[c8cf843](https://github.com/dcache/dcache/commit/c8cf843d3362a9c7883339ded3f48abb7aa80992)
:   nfs: fix layoutreturn operation handling regression

[26c20f2](https://github.com/dcache/dcache/commit/26c20f24556fc796640308de8e082e07590ae602)
:   chimera: FsInode_SURI, refactor permission checks into ChimeraVfs

[d42cb2a](https://github.com/dcache/dcache/commit/d42cb2ab2110abc38a35dba55cc68b0c4a8cf0ea)
:   Include information on creating ban.conf

[3c44c62](https://github.com/dcache/dcache/commit/3c44c62293a8679798ba3c46847b0345702f9d03)
:   nfs: restart stale transfers

[58d479b](https://github.com/dcache/dcache/commit/58d479bf690b50b9f8c2d4ff51126fd0d507e0f6)
:   cells: reduce dependency on ListenableFuture

[0fb511c](https://github.com/dcache/dcache/commit/0fb511cf27bc9282bae8dd33a83a842a256f4618)
:   nfs: support ability to set file checksum(s) via dot command

[fbed8d5](https://github.com/dcache/dcache/commit/fbed8d5e17c6a5bedbee5894b59c79f8061c6fac)
:   chimera: add command to push tags into subdirectories

[c557f28](https://github.com/dcache/dcache/commit/c557f28a297723baf6b4f080834f3ee3a7b32607)
:   resilience: add command to detect files all of whose replicas are on a given set of pools

[72b90de](https://github.com/dcache/dcache/commit/72b90de40b22eb158dade2f154e97a63f8aa43a6)
:   libs: use h2 version 1.4.199

[a231e87](https://github.com/dcache/dcache/commit/a231e873aff04b95db6135a939869ff34e610272)
:   srm: Remove JVM memory limits

[0e31e95](https://github.com/dcache/dcache/commit/0e31e95e2ca2b7a37933ccf5cff833dd45da7df4)
:   util: explicitly handle POOL_UNAVAILABLE in transfer class

[a1ea2d4](https://github.com/dcache/dcache/commit/a1ea2d459ff24707cfcb707a5892f5310d90bcc9)
:   util: introduce constant CacheException#POOL_UNAVAILABLE

[1f7b9eb](https://github.com/dcache/dcache/commit/1f7b9eb9ad1a26cc6828ebf7014b260987170ab1)
:   resilience: fix remove count when replica is precious

[2d9992c](https://github.com/dcache/dcache/commit/2d9992c28f27a096290a2028a8d74733fc08f32c)
:   chimera: update ctime on checksum set and remove

[3016320](https://github.com/dcache/dcache/commit/3016320564e2a51f5af9781818c6e9dca242c3c5)
:   cells: make UOID object globally unique

[12083be](https://github.com/dcache/dcache/commit/12083bede0e431f1f1ab1b6782cd33f454b37aa6)
:   Update intouch.md

[270783f](https://github.com/dcache/dcache/commit/270783fd5057716a58983f2170d80ec1b1c5fd7c)
:   docs: improve formatting of preface.md

[e2241eb](https://github.com/dcache/dcache/commit/e2241ebca54ddee3a232fbe43b812d68c01dcb3a)
:   docs: make links to corresponding chapters in introduction

[fe25f50](https://github.com/dcache/dcache/commit/fe25f50073e8799b1a1d506072b9c5b7bd17ea34)
:   cells: remove reference to ListenableFuture in CellGlue

[9581b18](https://github.com/dcache/dcache/commit/9581b1807d4fbf10dd63ab573434fb58f7c6a119)
:   Delete next_button.css

[cc88dc7](https://github.com/dcache/dcache/commit/cc88dc7d47d23f9e60d16467898de670d3a809e0)
:   Update intouch.md

[1e66851](https://github.com/dcache/dcache/commit/1e66851f083fae116ed7abcc8cfd77c4b35c4ab5)
:   Update intouch.md

[27ffe52](https://github.com/dcache/dcache/commit/27ffe525ddd078372f0cddf7cda2bc75726c0c74)
:   Update intouch.md

[883f690](https://github.com/dcache/dcache/commit/883f69020bc00f9f1fa67f24eadcf2011aa88910)
:   Update intouch.md

[6ae1787](https://github.com/dcache/dcache/commit/6ae17875b15e8c29cfda495b642d469e08dda12d)
:   Update intouch.md

[f524ed7](https://github.com/dcache/dcache/commit/f524ed75dd798292770ba514ed11a30a935e087f)
:   util: add CompletableFutures#fromCompletableFuture method

[b994018](https://github.com/dcache/dcache/commit/b9940188d4c35c54740414ac42c217d6675a7cbd)
:   Create next_button.css

[069fc83](https://github.com/dcache/dcache/commit/069fc83f941830d756a8bfa11c78cfa35d84ff4c)
:   dcache: fix RepositorySubsystem unit test NPE

[da929a0](https://github.com/dcache/dcache/commit/da929a09b6cf63e87071cb42c565b56f66b071d8)
:   pool-repository: Improve metadata check speed on pool re-start.

[765e95f](https://github.com/dcache/dcache/commit/765e95fef47dd06a939004b04e22b7382c81ccfc)
:   nfs: checksum types dot command

[6abfd14](https://github.com/dcache/dcache/commit/6abfd149cfa73f771d20a9442973fde30c3f2cf2)
:   frontend: make geographic placement configurable

[350aee6](https://github.com/dcache/dcache/commit/350aee6603742d69b738de1239f607ab461ddf59)
:   docs: TheBook further updates to describe updated NFS pinning interface

[ea3f2fb](https://github.com/dcache/dcache/commit/ea3f2fb1555c561621c872620ff8a4d7aeabede7)
:   common: fix formatting of error message in Checksum

[6a8cc96](https://github.com/dcache/dcache/commit/6a8cc96ead1ca9fbc4e55528905095a25b76f3bc)
:   scitoken: fix remote reading of JSON with UTF-8 CharSet

[2a7f502](https://github.com/dcache/dcache/commit/2a7f502f6fe3a193cdb8e0a62311cb44ebaef64a)
:   NFS: fix permissions on the pin dot command.

[d5aa2f6](https://github.com/dcache/dcache/commit/d5aa2f640910bbfac112fbdcdbef474658b7e618)
:   NFS: check whether pin operations were accepted

[4a596cf](https://github.com/dcache/dcache/commit/4a596cf4c85d550a86d6daa5b836ac9ea1313d23)
:   NFS: avoid stack-traces and provide feedback on invalid pset/fset args

[2fbee94](https://github.com/dcache/dcache/commit/2fbee94c388799f071c8ef10ecf76e8f2a970f78)
:   PinManager: support replying as soon as the pin request is accepted

[e89de9d](https://github.com/dcache/dcache/commit/e89de9da2b52e8bc3de81d1311ca1bf7a106e365)
:   NFS: use client IP address when pinning files

[f67ef81](https://github.com/dcache/dcache/commit/f67ef81eff147d7a427c0f7c3bff728283eff80d)
:   NFS: add dot command to list a file's pins

[a6ec353](https://github.com/dcache/dcache/commit/a6ec35343dc8f8a120a9c50a0fb15ceb76c73f9d)
:   docs: UserGuide warn not to use -dcpriv

[da5f1ad](https://github.com/dcache/dcache/commit/da5f1addfe8a2b832601d8f7e7dcd852708c2562)
:   docs: Mixed case for headings

[a216f89](https://github.com/dcache/dcache/commit/a216f89e4afb0b7a8199349d01a64fed3e77af9e)
:   docs: Added automatic local tables of content

[6925c44](https://github.com/dcache/dcache/commit/6925c44994872c01e16a5755b9c5d6a5ecdc493d)
:   docs: TheBook rewrite the install chapter

[960960a](https://github.com/dcache/dcache/commit/960960a3ed460fe8cc965949a288b357538177d6)
:   docs: TheBook add support dCache versions for SNAPSHOT.

[8ea0991](https://github.com/dcache/dcache/commit/8ea0991217ffea02f097b3dc1cc8fbb58817d4c1)
:   docs: Removed readme.md

[873e50d](https://github.com/dcache/dcache/commit/873e50dbcf604c56507a56543acf182be2d1a06a)
:   Motivation: logger name unification

[a8b2986](https://github.com/dcache/dcache/commit/a8b2986096305698d73a6f5641885ac3eb7875a7)
:   dcap: remove dcap control channel support for 'strict-size`

[1e778e7](https://github.com/dcache/dcache/commit/1e778e7ad02f57c7b5b81a3815827c7b81b7fff7)
:   util: decorate retry executor with CDC-aware wrapper

[251ff2e](https://github.com/dcache/dcache/commit/251ff2e6134218d34d028e9e7ca141c44d282f85)
:   cells: fix incorrect CellMessage#equals method

[bcb4617](https://github.com/dcache/dcache/commit/bcb46171eb10b9080a8c779bb9fab1bc07f3cbbb)
:   docs: Ceph performance considerations

[2688761](https://github.com/dcache/dcache/commit/2688761016e3e1b777b16d63402530fd857a409f)
:   docs: Share Zookeeper cluster between instances

[ac0e2f8](https://github.com/dcache/dcache/commit/ac0e2f84344777bb4269d10e0506f45e1803c3ef)
:   vehicles: add missing FileAttributes$Builder$cacheClass method

[a5a9ce3](https://github.com/dcache/dcache/commit/a5a9ce3d61220590cc07d215dfe6452887ade6b9)
:   gplazma2-jaas: Logger name was changed

[c312637](https://github.com/dcache/dcache/commit/c312637eb144e5539e1bbbb1aaa88d6b2c71a3a5)
:   dcache-webdav: changed name of Logger

[37d7a43](https://github.com/dcache/dcache/commit/37d7a43800d2be43b89c83a105b0805be641b7f4)
:   gplazma-nis: updated name of logger to fit java convention

[4de1cac](https://github.com/dcache/dcache/commit/4de1cacfdb567ef842837dcd75b404b687b22085)
:   chimera: changed name of Logger

[b71030d](https://github.com/dcache/dcache/commit/b71030d33e58702bff3ea3dba2a61eda69914d6e)
:   Gplazma-multimap: LOG changed to LOGGER

[4197d08](https://github.com/dcache/dcache/commit/4197d086619357aa7a1b9f7463ba73abdc9f1364)
:   gplazma-voms:gplazma-voms: log auf LOGGER geÃ¤ndert

[7e987f3](https://github.com/dcache/dcache/commit/7e987f3e6d6b2798e08e562df999a3a15f9acc24)
:   gplazma-htpasswd: unification of LOGGER variable

[2a64a5c](https://github.com/dcache/dcache/commit/2a64a5c51cacc8bfbc94e5c35b4dfc42532c7bf4)
:   gplazma2-argus: changed logger variable name

[4283c55](https://github.com/dcache/dcache/commit/4283c55c31a6580e46e42f60f052075f35d28563)
:   chimera: changed readme

[ac6f0ae](https://github.com/dcache/dcache/commit/ac6f0ae2f194eba6701d2e6da22a095c36e4d560)
:   dcache: update readme with up-to-date description

[5286a17](https://github.com/dcache/dcache/commit/5286a17c2940359ad02ac65f4d5783e8b3655f36)
:   gplazma2-nis: update readme with up to date date

[6399343](https://github.com/dcache/dcache/commit/6399343fff744825ca5996ee229fa3eff8705ee8)
:   acl: update readme with up-to-date description

[f27fc7a](https://github.com/dcache/dcache/commit/f27fc7abe618676afac71ae288ce345306010710)
:   nfs: fix NPE on "show transfers" command

[10177b9](https://github.com/dcache/dcache/commit/10177b9b430b5c88ac12a3d18e25621ec7135371)
:   vehicles: remove PoolCheckable and related messages

[477c2bb](https://github.com/dcache/dcache/commit/477c2bb6816eb49b7e4b2fe0197ab0d38fa81495)
:   dcap,srm: use CacheEntryInfoMessage instead of PoolCheckFileMessage

[907eec6](https://github.com/dcache/dcache/commit/907eec604a71faa6ef7e83a30e7a833c2e97b60a)
:   resilience: remove reference to PoolCheckMessage in unit test

[ea97bbf](https://github.com/dcache/dcache/commit/ea97bbfe3e54cbf4e7b978c05a00c069b0423dfa)
:   libs: use nfs4j-0.19.0

[f02d0ad](https://github.com/dcache/dcache/commit/f02d0ad0e8c14289d10bdea5a4c6f6a2447c70e0)
:   Update frontend.md

[1892df9](https://github.com/dcache/dcache/commit/1892df92709f1f6d013f101198ccabf469076a33)
:   Update frontend.md

[d73bdda](https://github.com/dcache/dcache/commit/d73bddada1852e53a5af25f925270ca2abd1e21a)
:   poolmanager: do not check stage/p2p reply message type

[b60d4c8](https://github.com/dcache/dcache/commit/b60d4c8db6f67b7a28d363bf9c806b00fd84528b)
:   docs: Update UserGuide to use guide-specific navigation header

[c295da2](https://github.com/dcache/dcache/commit/c295da2976674b4442f1aaf396e94aeffae65abb)
:   docs: TheBook parameterise time; minor format and content tidy-up

[59a43b5](https://github.com/dcache/dcache/commit/59a43b5f2e8ffeaf7692362739476731e6166504)
:   docs: TheBook switch user/client console to use markup

[c996ccb](https://github.com/dcache/dcache/commit/c996ccb2abc56259f086791936c194f10116cc89)
:   docs: TheBook use a shorter console prompt

[a438854](https://github.com/dcache/dcache/commit/a438854b942adcccb3f6ff9920560ddae16b07c3)
:   docs: TheBook include dCache version in documentation

[385b77f](https://github.com/dcache/dcache/commit/385b77fac2a2732f1db87075e2e32765a13d2d57)
:   webdav: fix cross origin resources sharing issue

[1bf3a98](https://github.com/dcache/dcache/commit/1bf3a98ec5455edf93edee5354adf11226700854)
:   docs: TheBook language-ini for dCache configuration; fix other minor issues

[c7cf6c0](https://github.com/dcache/dcache/commit/c7cf6c05a26e97d0c65bd6946eecbe116e7bd9b3)
:   pool: don't pass checksum module to transfer services

[3959ad0](https://github.com/dcache/dcache/commit/3959ad0079baa28f60712b6df164639abfde4d2f)
:   docs: TheBook use root console environment for root activity

[a099cb3](https://github.com/dcache/dcache/commit/a099cb37bf9c4ee34232aaaea037d7b19e03c0c5)
:   docs: TheBook use monospaced font for filenames and paths

[1c1de5e](https://github.com/dcache/dcache/commit/1c1de5e940f004c2699451b85cf76b4b05c5a607)
:   Revert series of 14 commits pushed upstream by accident.

[5c7433e](https://github.com/dcache/dcache/commit/5c7433e648b808464783250ccf0bea0adb680a49)
:   docs: update install chapter of TheBook to use syntactic highlighting

[2e10fa8](https://github.com/dcache/dcache/commit/2e10fa84d4773ee9e110850dda84ba73d163f880)
:   Further refactoring

[85ef0f1](https://github.com/dcache/dcache/commit/85ef0f1cd9b6a150a3a92d7ddbd5d6717d530cc0)
:   Make cellNameFor return Optional

[871b000](https://github.com/dcache/dcache/commit/871b00062a9a23147759b4df1c0e67625a6779a1)
:   Factor our routeThreadGroup discovery method to a utility class

[a9cf71c](https://github.com/dcache/dcache/commit/a9cf71cd01fbceb77cc1539de837e5edd0b005e9)
:   Remove ThreadId class, use long instead

[00023f3](https://github.com/dcache/dcache/commit/00023f3fab5b1bf0ec0b85f37355764bec1311fa)
:   Add diagnostic stuff

[1e629e0](https://github.com/dcache/dcache/commit/1e629e0c5cdaffc41f12740ebdf4efe34262519a)
:   Add CPU information to "ps" command

[40f3cb6](https://github.com/dcache/dcache/commit/40f3cb6279798a3618f8fdd7e1ce9fb58e7300e0)
:   Remove separate CPU ls command

[f50f790](https://github.com/dcache/dcache/commit/f50f79055d8c72d9e23a029897f6e11f587ebaf6)
:   Fix bug in format string

[6be26c9](https://github.com/dcache/dcache/commit/6be26c93fe668d13bfa78264da6515aee80af6ac)
:   Fix two NPEs

[0a683e7](https://github.com/dcache/dcache/commit/0a683e7df44f1e823c5c44f9e8e4a2423cb07bfa)
:   WIP adding some debug output, some minor refactoring

[5e911c9](https://github.com/dcache/dcache/commit/5e911c905519ea7a6a89942dab5809084781c8d9)
:   Switch CpuUsage to be immutable

[b4ffa34](https://github.com/dcache/dcache/commit/b4ffa345feebcfe81f43318d73556867fefe2a8a)
:   Refactor code and add basic support for missing functionality in CellGlue

[36f8e36](https://github.com/dcache/dcache/commit/36f8e364e07b597d19b472c84488000ef7daed96)
:   cells: add per-cell CPU usage monitoring

[f30b180](https://github.com/dcache/dcache/commit/f30b18015ab4dd6054455d1028e91fcd446b6a47)
:   Move ThreadGroup#enumerate out as a utility method

[21b0efa](https://github.com/dcache/dcache/commit/21b0efa44d810225f52102d91f851f8025b38930)
:   pool: remove artifacts from the  replica manager

[2aeb71b](https://github.com/dcache/dcache/commit/2aeb71bb6366e71b0310b4c1739cf8417753f387)
:   pool: remove reference to checksum module

[1b5c7ad](https://github.com/dcache/dcache/commit/1b5c7adb6486225f4e51305f61bd307c0ac5a7da)
:   vehicles: remove historic PoolUpdateCacheStatisticsMessage

[bfd512f](https://github.com/dcache/dcache/commit/bfd512fe5796435a07b1715305dd0563ce13c5cb)
:   Book: avoid long lines

[314b8c3](https://github.com/dcache/dcache/commit/314b8c3a9b126b81b3f9db1ebcd5c1f6894a26ec)
:   book: update style to match UserGuide

[b652f53](https://github.com/dcache/dcache/commit/b652f530903718bef81709cad96e787411aea974)
:   nfs: merge AccessLogAware and ProxyIo operation factories

[7ebb537](https://github.com/dcache/dcache/commit/7ebb537b72ec0e9f04db3da51b64dac8a425f0a6)
:   poolmanager: remove unused interface ExtendedRunnable

[741e989](https://github.com/dcache/dcache/commit/741e9896d38af0aa9aeddbeeb164ed86bf34f8d1)
:   http: fix usage info legend color and label

[f7222ae](https://github.com/dcache/dcache/commit/f7222ae2cb4d229a5f7299789fccc313b1f1cddd)
:   dcache, frontend: release dcache-view version 1.5.5

[112f784](https://github.com/dcache/dcache/commit/112f784fdd84a805a9a9ca1af63de063ee37c4f0)
:   nfs: introduce workaround 'permission deny' on layout commit

[60fe748](https://github.com/dcache/dcache/commit/60fe7482cf2d75fa1ea03de85a7689899ba45210)
:   pom: fix spotbugs maven plugin initialization ()

[4f38bc9](https://github.com/dcache/dcache/commit/4f38bc97c1061d2c770e90c98ee3f625c7e56e33)
:   pom: enable spotbugs plugin

[5f65152](https://github.com/dcache/dcache/commit/5f65152321ff12d5b6ab34b236ed01f6d4a2caa1)
:   crypto: fix broken unit tests

[ad30a1d](https://github.com/dcache/dcache/commit/ad30a1d5266b16356e15b53a2de7261c14140c6a)
:   chimera: chimera shell should show output when commands come from stdin.

[d27558b](https://github.com/dcache/dcache/commit/d27558bb8926e990496abd1ad51293cb445bcdc3)
:   webdav: return 405 status code for PUT requests targeting collections

[294e290](https://github.com/dcache/dcache/commit/294e290d9e21e401d34faa4b0b447861d250b10e)
:   doors: improve timeout message waiting for redirection

[1258cb7](https://github.com/dcache/dcache/commit/1258cb7766f6648af88303e4b0b997f45f60693f)
:   chimera: return more helpful error message

[c88d102](https://github.com/dcache/dcache/commit/c88d102d60fe2a3c287ada754240f44fcb43197f)
:   cells: fix handling of plain and tls connections

[98d3cc8](https://github.com/dcache/dcache/commit/98d3cc87046ddb2cf67c79547e627582d66db9c1)
:   pool: update billing log message to say whether cancelled mover was queued

[434eee9](https://github.com/dcache/dcache/commit/434eee9405b731e879290f43f52a62f720551cec)
:   crypto: add work-around for SL7 clients

[09ed752](https://github.com/dcache/dcache/commit/09ed752db085d96ab3bf05ec78880213fb4055d3)
:   pool: remove unused checksum verification method from ChecksumModule

[a1cb89e](https://github.com/dcache/dcache/commit/a1cb89ef4d3b69cd6ae7883458fb20468caaaa39)
:   nfs: handle read and write transfers by different transfer classes

[6cf7438](https://github.com/dcache/dcache/commit/6cf74388bc9d5cd4105d3b52ba7c3f7c4bc23a92)
:   dcache-xrootd: add checksum cgi handling to door query

[46f0211](https://github.com/dcache/dcache/commit/46f0211f5a2d15e79400af998f3ab96ab89bc815)
:   docs: Update of PoolManager config chapter

[8974b70](https://github.com/dcache/dcache/commit/8974b70b221892145772f8db453e068623241f55)
:   nearline-storage: remove unused field

[bb39761](https://github.com/dcache/dcache/commit/bb397616d50b0e34be5eec17427ec558f2cd3e0d)
:   scripts: avoid copy-n-paste error when calculating pool size

[91d3cbd](https://github.com/dcache/dcache/commit/91d3cbd8138c2c8f162cddde034174b0e62110a0)
:   nfs: fail with NO-SPACE error when all pools are full

[1939fed](https://github.com/dcache/dcache/commit/1939fed671451e443858b7cee26b32ec97bc0bcd)
:   crypto: add support for disabling weak crypo suites

[a1e0c1b](https://github.com/dcache/dcache/commit/a1e0c1b46fd7d7c6c7d4c033b04956a3e6fba70a)
:   httpd: allow file-specific errors to propagate

[d49ec20](https://github.com/dcache/dcache/commit/d49ec20c395b49e46c74bb8ee6840fdb587d49d7)
:   pool: fix toString method for ReplicaStore decorators

[21fc553](https://github.com/dcache/dcache/commit/21fc5534503ff3c366b643dccbb3a5a2efd40a3d)
:   frontend: include doors resource as request-scope bean

[86d3f6c](https://github.com/dcache/dcache/commit/86d3f6cd504163ab619b2653f83d215418a1b348)
:   cells: add fall-back for discovering to which cell a thread belongs

[6f2e53e](https://github.com/dcache/dcache/commit/6f2e53e1f3f6f1677535dc3fcc5dfbe6b33d841f)
:   dcache-xrootd: check the session for credential on source open

[03f18cb](https://github.com/dcache/dcache/commit/03f18cbfca54615b9bf8ece57430d72420342d51)
:   dcache-xrootd: respond to tpc query correctly*

[1cc35df](https://github.com/dcache/dcache/commit/1cc35dfdfe548cece0f9c77ad4b0de4dd537523f)
:   dcache-xrootd: compute VOMs CA refresh interval using unit

[8916f6b](https://github.com/dcache/dcache/commit/8916f6b259b4964ef9a5c89fe2196a01690acc3f)
:   dcache, frontend: release dcache-view version 1.5.4

[6f5242f](https://github.com/dcache/dcache/commit/6f5242f268cdd96e9ebd68eb9288f2e7bd04ae4c)
:   alarms: eliminate logback context from junit test

[69e773c](https://github.com/dcache/dcache/commit/69e773cac9f1b0ca67e8c9f1459a4831c002e5f1)
:   libs: use curator 4.2.0

[9417058](https://github.com/dcache/dcache/commit/9417058daa9686420c8fb4aa008c281f04f66df6)
:   pools: make the xrootd tpc response timeout less aggressive

[868e77f](https://github.com/dcache/dcache/commit/868e77fb5eab511035e0286b63e79ad36986138a)
:   system-test: avoid garbage-collecting DB connections

[b7f5d88](https://github.com/dcache/dcache/commit/b7f5d880fcb896adbdaba87274fcce92ce269334)
:   transfermanager: include pool name in error for 'mover ls' failures

[5e1b849](https://github.com/dcache/dcache/commit/5e1b8490c75c12d69d333fecf271d361337ac49e)
:   ftp: avoid NPE on HA-Proxy probes

[f1a277a](https://github.com/dcache/dcache/commit/f1a277a8e6be48d50d7ae90f9d9feb699d5fa7a4)
:   libs: update aspectj plugin to up-to-date version

[16085a0](https://github.com/dcache/dcache/commit/16085a0b23f381e9110671b0ce1a431ad0476c42)
:   multiple: add support for Hikari-specific properties

[b0dd3e1](https://github.com/dcache/dcache/commit/b0dd3e1b0e50712f35f49426da9ea4ff7f109d70)
:   [maven-release-plugin] prepare for next development iteration



</div>
</div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js" type="text/javascript"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"
        integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>


