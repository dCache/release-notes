HTML header: <title>dCache 5.2 Release Notes</title>
             <!--#include virtual="/template/default-head.shtml" -->
             <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
             <!-- Bootstrap -->
             <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
                   integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous"/>
             <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css"
                   integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous"/>
             <!--link type="text/css" rel="stylesheet" href="jquery.tocify.css" /-->
             <style type="text/css">
             h5 {
                 font-size: 15px;
                 font-style: italic;
                 margin-top: 20px;
             }
             body {
                 padding-top: 20px;
             }
             @media (max-width: 767px) {
                 #toc {
                     position: relative;
                     width: 100%;
                     margin: 0px 0px 20px 0px;
                 }
             }
             @media print {
                 #toc {
                     display: none;
                 }
             }
             </style>

<div class="container">
<div id="banner">
   <div id="bird_large">
      <img src="/images/dcache-banner.png" class="bird"></img>
   </div>
   <div id="sidebar-b">
      <span class="dcache-nav-bar">
      <a href="/index.shtml">home</a>
      |
      <a href="/news.shtml">news</a>
      |
      <a href="/manuals/index.shtml">documentation</a>
      |
      <a href="/downloads/IAgree.shtml">downloads</a>
      |
      <a href="/feedback.shtml">feedback</a>
      |
      <a href="/manuals/googlesearch.shtml">search</a>
      |
      <a href="/imprint.shtml">imprint&#160;</a>
      </span>
   </div>
</div>
<div id="content">

<div class="row">

<div class="page-header">
<h1>What's new in dCache 5.2<br/>
<small>Release notes</small></h1>
</div>

## Highlights

- As a Golden Release, the focus of 5.2 is on robustness and stability. Many small changes (not all mentioned here) target handling rare error conditions, and
logging has become more detailed across the board.

- XRootD third-party copying support has matured, including credential delegation support, and can be used in production.

- This release introduces the new concept of "zones" to improve networking performance in geographically distributed dCache instances. While 5.2 does not offer
  a full, admin-configurable system yet, this is an important milestone for future installation types.


## Incompatibilities

- The order in which fields are logged in the frontend log for WebDAV accesses has changed (but the set of fields itself has remained the same). This may require
  tuning of any custom log processors that rely on the field ordering.
  
- The default setting for logging aborted FTP transfers was changed, so that sites upgrading to dCache v5.2 will now automatically log aborted
transfers.

- Pool tags may no longer use the literal string "zone".


## Acknowledgments

We gratefully acknowledge code and documentation contributions from Christoph Anton Mitterer and Onno Zweers.


## Release 5.2.46

### xroot

Upload transfer checksum failure is fixed and the gfal scenario now works.


### Changelog 5.2.45..5.2.46

<!-- git log 5.2.45..5.2.46 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[d1a059f663](https://github.com/dcache/dcache/commit/d1a059f663b4137297e955221c9bf989440dd955)
:   [maven-release-plugin] prepare release 5.2.46

[426c21e732](https://github.com/dcache/dcache/commit/426c21e732b9e32b1e8a3ff903bb15e0f4fa6426)
:   dcache-xroot: fix upload transfer checksum failure (stable branches)

[75f617810d](https://github.com/dcache/dcache/commit/75f617810dc4d26032e3a669b63d4dfc6bebe29a)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.45

### ftp


Globus transfer agent is now able to create symbolic links.

### pool

dCacheView now works for redirected transfers for non-anonymous data
access, provided the WebDAV door is using TLS encryption and is
configured with 'webdav.redirect.allow-https' set to 'true'. 


### poolmanager


A very rare race-condition is fixed that could be triggered if a pool
completes a stage or pool-to-pool request (to satisfy a client's read
request) immediately before dying.

### webdav

dCacheView is able to view and download files when authenticated and
when the WebDAV door proxies the transfer.


### Changelog 5.2.44..5.2.45

<!-- git log 5.2.44..5.2.45 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[eaf7bbb59d](https://github.com/dcache/dcache/commit/eaf7bbb59dbc7924fe4f2660724781210a055d57)
:   [maven-release-plugin] prepare release 5.2.45

[37b28681fa](https://github.com/dcache/dcache/commit/37b28681facf8d1c06a89e6b6cf4c414364bb8a6)
:   webdav: use Jetty's built-in support for CORS

[3c97ba8f81](https://github.com/dcache/dcache/commit/3c97ba8f81e0897ef7e4107c781e39957f11678f)
:   poolmanager: fix _waitingFor access outside of synchronized block

[2a9878b20b](https://github.com/dcache/dcache/commit/2a9878b20bdac9f94f8160842453643a493be232)
:   ftp: add support for the SITE SYMLINK command

[3852432446](https://github.com/dcache/dcache/commit/385243244633007211fa7f100b666ee7b55a7650)
:   pool: http allow client to send credentials when TLS is used

[7c8cb60b6a](https://github.com/dcache/dcache/commit/7c8cb60b6a2a5fe41a6e2a94d681fca4695118c5)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.44

### frontend


frontend/api readers and writers always zero issue is fixed now

### gplazma

The LDAP plugin behaviuor now more closely follows that of other mapping
plugins. This allows deployments where LDAP is tried first and, if that
fails to identify the user, fall-back strategies are used.


### Changelog 5.2.43..5.2.44

<!-- git log 5.2.43..5.2.44 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[52b7953d79](https://github.com/dcache/dcache/commit/52b7953d798d3f7af76cb11646bed9110b998be9)
:   [maven-release-plugin] prepare release 5.2.44

[09543a8d42](https://github.com/dcache/dcache/commit/09543a8d429a658b7e17ca8ec302872d1f6a7126)
:   gplazma: ldap throw exception if no principal is added

[c705c6dc26](https://github.com/dcache/dcache/commit/c705c6dc26090243fe68cf20db84c02de02da02d)
:   poolV4: fix reader/writer counts

[fcbe8f19fd](https://github.com/dcache/dcache/commit/fcbe8f19fd369d1d58ae7cb8db2c8d7569280802)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.43

### dcache-xroot

The cirrent release fixed memory leak, race and other small issues with reconnect to pool.


### frontend

The `dcache-view.endpoints.webdav` property now overrides any
auto-discovered WebDAV endpoint, making explicit configuration easier.

The current release fixed several reported problems in dCacheView, including

requesting a "one week" macaroon was failing and  uploading files did not show transfer progress.


### Changelog 5.2.42..5.2.43

<!-- git log 5.2.42..5.2.43 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[6d6ed20b03](https://github.com/dcache/dcache/commit/6d6ed20b03dcfc8e4a231366e7ed21bd0727df9e)
:   [maven-release-plugin] prepare release 5.2.43

[4834572874](https://github.com/dcache/dcache/commit/4834572874e23aedf6a6bea7e4c4ee88134a95a4)
:   frontend: bump version of dCacheView (5.2)

[94cc441151](https://github.com/dcache/dcache/commit/94cc441151eb22cdb0ba7a662dcd71edc610fbcf)
:   dcache-xroot: fix memory leak, race and other small issues with reconnect to pool

[52d43f5ee6](https://github.com/dcache/dcache/commit/52d43f5ee662dfe518b3c72d64ab57f1dbbfa430)
:   frontend: bump dCacheView to v1.5.8

[90bd19a430](https://github.com/dcache/dcache/commit/90bd19a43059b720c60513c6c768828e88db89d6)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.42

### poolmanager

When poolmanager requests that a pool stage a file, the pool may return
the special error code HSM_DELAY_ERROR (10013). On receiving this
error, poolmanager suspends the request.

This is now fixed.

### xrootd


xrootd4j is updated to  3.5.10.


### Changelog 5.2.41..5.2.42

<!-- git log 5.2.41..5.2.42 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[ade615d7d5](https://github.com/dcache/dcache/commit/ade615d7d5a9bd0ccbd37dbb3c79b6b7a1eb6c75)
:   [maven-release-plugin] prepare release 5.2.42

[7d88a7730c](https://github.com/dcache/dcache/commit/7d88a7730c09027a8d8473c66aec66926d43d946)
:   dcache-xrootd: update xrootd4j to 3.5.10

[86ae8f7c4b](https://github.com/dcache/dcache/commit/86ae8f7c4b4a3324dd59b71be31537894efaca30)
:   poolmanager: fix NPE if pool delays stage without giving a reason

[afd33b9a89](https://github.com/dcache/dcache/commit/afd33b9a891093df84463b981f8ea9ade79d6c89)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.41

### Changes affecting multiple services

Sometimes file checksums are missing in namespace. Transfer requiring checksum verification fails then with an error saying that "No checksums found", but doesn't log a stack trace server side anymore.

### dcache-xroot

During periods of heavy usage on a pool node, if I/O stalls during read, the xroot client may try to reconnect and continue reading. This release fixes a bug which fails the transfer on the attempted reconnect with a "uuid no longer valid" error (because the file mover has already been closed and removed).  Clients should now be able to resume reading the file on retry.


### Changelog 5.2.40..5.2.41

<!-- git log 5.2.40..5.2.41 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[673b8f7013](https://github.com/dcache/dcache/commit/673b8f70139a893d80eaaf51eb0f695851184e82)
:   [maven-release-plugin] prepare release 5.2.41

[4650625876](https://github.com/dcache/dcache/commit/4650625876f6fa09319a749c292e1bf7d7d259e0)
:   dcache-xroot: Allow client to reattempt open on pool when I/O stalls

[f77224f909](https://github.com/dcache/dcache/commit/f77224f9096d7131721b87ae41013941c5416397)
:   check if checksums are present and throw CacheException if they are not

[58eeba6480](https://github.com/dcache/dcache/commit/58eeba6480d5e2c2799c970c9d54dd126cc667e4)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.40

### admin

The current release fixed  doors `login dump cache` admin command  to show the
information sent by the door along with the login result.

### common

Printing of bearer tokens is improved to provide better assurance that
bearer tokens are not leaked.

### gplazma

All login failures are now recoreded in pinboard as a single-line
summary, explaining why the login attempt failed.

### webdav

The current release fixed  a regression where dCache would complain about badly formatted IPv6
addresses, preventing those addresses from being included in the access
log files.

The current release fixed a regression where dCache would complain about badly formatted IPv6
addresses, preventing those addresses from being included in the access
log files.

### xroot

The current relase updated xrootd4j to 4.0.5 which fixes improper use of destination token when
contacting source server during third-pary transfer.




### Changelog 5.2.39..5.2.40

<!-- git log 5.2.39..5.2.40 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[8d935eef8b](https://github.com/dcache/dcache/commit/8d935eef8b01fd1aefe688855f263cf9850efc8c)
:   [maven-release-plugin] prepare release 5.2.40

[55c48f2584](https://github.com/dcache/dcache/commit/55c48f258480216fcf64379cd25f002b7b28d77d)
:   dcache-xroot: update to xrootd4j-4.0.5

[0bcb94785f](https://github.com/dcache/dcache/commit/0bcb94785f3d7636216bca54a676ccb943c3f9be)
:   webdav/frontend: fix IPv6 address logging

[b018fa1546](https://github.com/dcache/dcache/commit/b018fa154675afdfdcc588cc36f9f1836f51c88f)
:   common: update how BearerToken is shown in Subjects#toString

[a5f9bf22de](https://github.com/dcache/dcache/commit/a5f9bf22de409a6857b31c28d5189a52887443f3)
:   authn: add missing hashCode and equals methods for PasswordCredential

[a4ad71830b](https://github.com/dcache/dcache/commit/a4ad71830b6961b58365655e6648740c480e8fb5)
:   authn: fix "login dump cache" admin command output

[43810a38eb](https://github.com/dcache/dcache/commit/43810a38eb839f0d69a86645727dcb2339208f18)
:   gplazma: provide single-line summary in pinboard for each login failure

[59f6f63204](https://github.com/dcache/dcache/commit/59f6f63204ad22e5287b940efd2a9d5052be7444)
:   authn: log failures in UnionLoginStrategy

[0b4243e925](https://github.com/dcache/dcache/commit/0b4243e92556bcc83d7a3505fc9052b01a5d9ff4)
:   authn: add missing hashCode and equals methods for BearerTokenCredential

[77f35414a5](https://github.com/dcache/dcache/commit/77f35414a555e71957dc72f6fb4a122e6b580e8e)
:   common: Update BearerToken representation to include some information

[460eae8999](https://github.com/dcache/dcache/commit/460eae8999a5945dc3401c87cda1df1f44fbed2e)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.39

### webdav

Restarting transfermanager while there are ongoing HTTP-TPC transfers no
longer results in an endless loop, with transfermanager logging a
message every ~5 seconds per ongoing HTTP-TPC transfer.


### Changelog 5.2.38..5.2.39

<!-- git log 5.2.38..5.2.39 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[5a4efe3c82](https://github.com/dcache/dcache/commit/5a4efe3c82f2ed7ba0d6011313a0353b9a822652)
:   [maven-release-plugin] prepare release 5.2.39

[793cda6d56](https://github.com/dcache/dcache/commit/793cda6d56c32d2cbf91534a94a7f59e4352f07b)
:   webdav-transfermanager: fail gracefully if transfermanager restarted

[961e04e102](https://github.com/dcache/dcache/commit/961e04e102d8b400e27d223189706a5c5011113f)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.38

### biiling

The current relase fixed  unit info for bandwidth measurements in billing.properties (bytes/sec, not MiB/sec).


### frontend

Frontend now logs any time it returns 500 Internal Server Error to the
client.

dcache-view Previously displayed   MB/sec for transfer rate, but the
value is the old KB/sec. This is now improved and pages display the values advertised.


### pool

The current release assures  now  that  checksum scanner wiill mark files broken and sends alarm.


### webdav

An HTTP-TPC transfer will abort automatically if transfer-manager is
restarted, without waiting for the client (FTS) to time-out.


### Changelog 5.2.37..5.2.38

<!-- git log 5.2.37..5.2.38 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[068123e993](https://github.com/dcache/dcache/commit/068123e993b08dc8cb6c6b9602bfb4506ff36e45)
:   [maven-release-plugin] prepare release 5.2.38

[61b7931b78](https://github.com/dcache/dcache/commit/61b7931b7833eb2ebd598ab3a85856e6a1fa7a4f)
:   dcache-pool: Assure checksum scanner marks files broken and sends alarm

[d02f0380b5](https://github.com/dcache/dcache/commit/d02f0380b5b128970a9405029fc6f35b66c272ca)
:   webdav/transfermanager: fail gracefully on restart, for perf marker

[ed2367b8cc](https://github.com/dcache/dcache/commit/ed2367b8ccaf7ef873e1da1e2b7b0cdd3a05c33a)
:   default: fix unit info for bandwidth measurements in billing.properties

[c55a211984](https://github.com/dcache/dcache/commit/c55a2119846e43017e03356b363edaf8c40491ca)
:   frontend: create a log entry when we return 500 Internal Server Error

[d51ea7af92](https://github.com/dcache/dcache/commit/d51ea7af925010d3027dca1bb1723eba8c0cf74c)
:   dcache-frontend: change transfer rate to compute what it advertised

[37e81a4d9a](https://github.com/dcache/dcache/commit/37e81a4d9a15fbcd8c77d8621aac4b3a1d03c97f)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.37

### book


A new section is added to the xrootd chapter explaining the need for
SAN extensions on the hostcert in the case of hostname aliasing.

### ftp

Globus transfer service can now list directories that contain incomplete
files, those that are still being uploaded.

The FTP no longer leaking sockets when dynamically calculating file
checksums (e.g., MD5). In practise, this issue only affects transfers
via the Globus transfer service.

The current release fixed  Globus transfer service directory listing for `medium` size
directories.

The current release fixed  Globus transfers hanging when `verify file integrity after transfer`
is enabled and the pool is not configured to calculate an MD5 checksum.

Honour the `ftp.net.internal` configuration property for dynamic
checksum calculation.


### Changelog 5.2.36..5.2.37

<!-- git log 5.2.36..5.2.37 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[4bb8f45ecc](https://github.com/dcache/dcache/commit/4bb8f45ecc958b8d89d37e87e97e6430efeea72a)
:   [maven-release-plugin] prepare release 5.2.37

[7363f9929c](https://github.com/dcache/dcache/commit/7363f9929c5b5edbecdb80e83edd15b20b4dd61a)
:   ftp: do not leak sockets when calculating checksums dynamically

[c0ca76c237](https://github.com/dcache/dcache/commit/c0ca76c2379e8afc9ca3aebd076f68ab0343e2cf)
:   ftp: add work-around to calculate MD5 for Globus

[ffd5090892](https://github.com/dcache/dcache/commit/ffd50908928c6f3f97b1d9609efb838c15a2c435)
:   ftp: add place-holder file size work-around for Globus directory listing

[05cb1a9286](https://github.com/dcache/dcache/commit/05cb1a9286e3925ec45c2a72de7a251e3dc9a995)
:   rpm take build directory path into quotes

[57b4004627](https://github.com/dcache/dcache/commit/57b4004627e57adc3956eb048ea024eff83d0294)
:   ftp: fix MLSC support for medium-length directories

[f12c836bea](https://github.com/dcache/dcache/commit/f12c836bea4cd73b0ec8dc56bbffc667764f89a5)
:   ftp: fix on-the-fly checksum calculation

[c9603c62fd](https://github.com/dcache/dcache/commit/c9603c62fd5b53c3778b473840f7d79153941864)
:   book: document host alias issue with xroot TPC

[e89c787d58](https://github.com/dcache/dcache/commit/e89c787d58bcdd22c0cd5b28ec58efa90d6f315b)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.36

### pool

The current release fixed a problem where redirected transfers involving the client uses
HTTPS when communicating directly with the pool would fail under
moderate-to-heavy load.

### services

Recovery processe in the case where a pool's message queue is overloaded,
as old (and now useless) requests may be simply discarded is improved.


### webdav

There were  reports of the access log file missing entries. This problem
seems to be triggered if the client disconnects before dCache has
finished processing the request, which is certainly true for cancelled
HTTP-TPC transfers. This is now fixed.

### xrootd

The xroot protocol access log entries for the xrootd door and pool have
been enhanced to include information about the kXR_query requests.


### Changelog 5.2.35..5.2.36

<!-- git log 5.2.35..5.2.36 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[d39c06f950](https://github.com/dcache/dcache/commit/d39c06f950f10025ef5578962e77773b53bb5677)
:   [maven-release-plugin] prepare release 5.2.36

[96b935b718](https://github.com/dcache/dcache/commit/96b935b718fc0a20d349f5ec0702953b5b969b2b)
:   prepare for next development iteration

[536001c6ec](https://github.com/dcache/dcache/commit/536001c6ecb9649209a62cf9bdad12a03e84c0ed)
:   TransferManager: choose better pool query message TTL

[e704af39ff](https://github.com/dcache/dcache/commit/e704af39ff732c672a2173336421cf93005df3e5)
:   webdav/frontend: ensure cancelled HTTP-TPC transfers are logged

[93372bb01d](https://github.com/dcache/dcache/commit/93372bb01d19e074e69b8ec6ee9ff28da9b07689)
:   xrootd/pool: improve access log to record more details of kXR_query

[32cce2a363](https://github.com/dcache/dcache/commit/32cce2a3639554902cff4902ddc8f74c4ff7438b)
:   pool: fix HTTPS support under heavy load

## Release 5.2.35

The current release fixes EGI-SVG-2020-16939 vulnerabilities.




## Release 5.2.34

### xrootd

The xrootd4j version was updated to 3.5.8.



### Changelog 5.2.33..5.2.34

<!-- git log 5.2.33..5.2.34 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[3b6e25cbba](https://github.com/dcache/dcache/commit/3b6e25cbbaf9d002c5a89034aa1d42e0440cc884)
:   [maven-release-plugin] prepare release 5.2.34

[84e842be12](https://github.com/dcache/dcache/commit/84e842be1228916897bb7661455629e9d441c456)
:   pom: update xrootd4j to 3.5.8

[31949c64b3](https://github.com/dcache/dcache/commit/31949c64b3096b3013a7813a7751accd0981aebc)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.33

### pool

The mover thread is not interrupted outside of IO activity to avoid disabling of repository.

HTTP-TPC transfers where dCache pushes data to an Apache server (for example as used by Dynafed) will now work for zero-length files.

### webdav

HTTPS-PUT requests are now possible.


### Changelog 5.2.32..5.2.33

<!-- git log 5.2.32..5.2.33 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[602fd7e2bd](https://github.com/dcache/dcache/commit/602fd7e2bd9f17e9a7c35fdcca036704ff348cf7)
:   [maven-release-plugin] prepare release 5.2.33

[159e747540](https://github.com/dcache/dcache/commit/159e747540ba2cf13b8035fb7580955f637ddc15)
:   pool: http-tpc do not loop if HEAD 'Content-Length' response is missing

[8719827577](https://github.com/dcache/dcache/commit/8719827577e6d7e7c7d56a74316d8a540c978a9c)
:   webdav:HTTPS PUT req issue

[cdcb683830](https://github.com/dcache/dcache/commit/cdcb6838306726e749b52e6c0fd0fb36bfc9236d)
:   pool: preserve CDC on p2p transfer

[0ab6ff2db4](https://github.com/dcache/dcache/commit/0ab6ff2db4a53099b2c6a71273df07ff2b38edbc)
:   pool: http-tpc drop 'Accept-Encoding' on HEAD requests

[1822d0399a](https://github.com/dcache/dcache/commit/1822d0399ac2e10a09634fb4d93840e88506a1db)
:   pool: detach IO thread when mover finished

[e381a7dca9](https://github.com/dcache/dcache/commit/e381a7dca9086507db3ac370d0b845c3301d1788)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.32

### pool

dCache pools now support GSI-based xrootd-TPC by default.


### Changelog 5.2.31..5.2.32

<!-- git log 5.2.31..5.2.32 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[752909d8a3](https://github.com/dcache/dcache/commit/752909d8a33603f708028d5c89126e24861f832d)
:   [maven-release-plugin] prepare release 5.2.32

[b968857afe](https://github.com/dcache/dcache/commit/b968857afe18193da6e568055b282438c44d2d92)
:   pool: update xrootd-tpc authenication default

[0b522460ad](https://github.com/dcache/dcache/commit/0b522460ad6a73738c4edf91dec7431a936664a6)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.31

### enstore

Enstore storage info provides works with URI based tape locations now.

### pool


The HTTP-TPC PUSH requests (which use the HTTP PUT request to send data)
are now more robust against slow remote servers that redirect the
transfer.

The current release fixed  NullPointerException bug in MongoDB-backed pool metadata storage 
and SpotBugs NORMAL-level warning.

With the chenges introduced in current release, when using HTTP-TPC, the timeouts dCache pool uses when requesting
information from the remote server have been adjusted, based on
operational experience. In general, dCache will now wait longer for the
remote server to complete any post-processing before giving up and
failing the transfer.


### Changelog 5.2.30..5.2.31

<!-- git log 5.2.30..5.2.31 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[3c9a2be99f](https://github.com/dcache/dcache/commit/3c9a2be99f37999f5fb344454462f3ebbc95948f)
:   [maven-release-plugin] prepare release 5.2.31

[dcef888b84](https://github.com/dcache/dcache/commit/dcef888b84e14c563867ce94058c8b72bd3ea6ed)
:   chimera: update EnstoreStorageInfoExtractor to use FileState

[5c035f0c74](https://github.com/dcache/dcache/commit/5c035f0c7488f203ab4505701aa9d3a3bcacd968)
:   chimera: use UTF-8 constant instead of string in ChimeraEnstoreStorageInfoExtractor

[7a712ca254](https://github.com/dcache/dcache/commit/7a712ca254bec4eb4e16c47bff24f74e29a3dde2)
:   enstore: populate the correct storage info information on set

[e92f10a1f4](https://github.com/dcache/dcache/commit/e92f10a1f44eaa03c0782b5bdce0bcec98ce2084)
:   pool: http-tpc adjust GET and HEAD request timeouts

[0791c30021](https://github.com/dcache/dcache/commit/0791c3002158d5e0a19f2ce40196e5171267c0ae)
:   libs: use mockito 3.2.4, powermock 2.0.4 and hamcrest 2.2

[8199d0d4b5](https://github.com/dcache/dcache/commit/8199d0d4b5369b0d650f6866d124c1c1982c209c)
:   pool: http-tpc PUT request are repeatable

[ec068b4983](https://github.com/dcache/dcache/commit/ec068b498309904d7562f339ffa4f8bea6823a30)
:   pool: support removing MongoDB storage-info entry

[3c1314cab5](https://github.com/dcache/dcache/commit/3c1314cab50cf8dff4c93b7acd4e4157190b9f75)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.30

### chimera

Filenames containing brackets are no longer treated as magic dot files.

### dcap

Sometimes file restores on dCap door were hanging. This is now fixed.


### Changelog 5.2.29..5.2.30

<!-- git log 5.2.29..5.2.30 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[41bda767cb](https://github.com/dcache/dcache/commit/41bda767cb20f3a749368945779bb8888db21dbf)
:   [maven-release-plugin] prepare release 5.2.30

[d2fefff34d](https://github.com/dcache/dcache/commit/d2fefff34d234a3b3b21d130f34e2bbaddb56cfe)
:   [maven-release-plugin] prepare for next development iteration

[36ee505c16](https://github.com/dcache/dcache/commit/36ee505c16bb0d1f88946aca5468dd873cde8a8c)
:   dcap: fix automatic door retry on transient errors

[73e6adba0f](https://github.com/dcache/dcache/commit/73e6adba0f16b7ff4200a72bcd6e39dde9fabcef)
:   chimera: fix dot file parser to handle weird file names

## Release 5.2.29

### gplazma

X.509 certificates that use the "SHA-384 with RSA" algorithm are now
logged with this name instead of the raw OID value.

### pool

dCache pools that are undertaking HTTP-TPC transfers will now wait
longer for the remote servers to complete any post-transfer activity.
Transfers that involve heavily loaded remote servers are now more likely
to succeed.


### Changelog 5.2.28..5.2.29

<!-- git log 5.2.28..5.2.29 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[7c683c7860](https://github.com/dcache/dcache/commit/7c683c786070b175c0884590b4eef70d193663cc)
:   [maven-release-plugin] prepare release 5.2.29

[7b8aabe43f](https://github.com/dcache/dcache/commit/7b8aabe43f846bf7bf13b841aeb3403c7beb4e3c)
:   pool: http-tpc increase timeout waiting for remote server post-processing

[1b72a1696d](https://github.com/dcache/dcache/commit/1b72a1696d65172076bbf9b7b433a0586d049673)
:   gplazma: include additional algorithm in LoginResultPrinter

[5a791039b5](https://github.com/dcache/dcache/commit/5a791039b5ee81a22426f731cb3f664f928b83cb)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.28

### nfs

The current release fixed previously observed  infinite WRITE+COMMIT loop.


### Changelog 5.2.27..5.2.28

<!-- git log 5.2.27..5.2.28 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[8106b2761c](https://github.com/dcache/dcache/commit/8106b2761ced40ca9dd6020d03485ea328201424)
:   [maven-release-plugin] prepare release 5.2.28

[70626265fe](https://github.com/dcache/dcache/commit/70626265fe7c985d48c8a194d61f432ff62dc385)
:   nfs-proxy: op WRITE must use the same verifier as COMMIT

[8d542a3cef](https://github.com/dcache/dcache/commit/8d542a3cef889b3e4734ce5acffde1742e0d1a54)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.27

### dcache

There have been several occasions where in a dCache instance using an embedded ZooKeeper server such HA services stopped working because 
an ephemeral node was elected leader that has no associated service anymore; it should have been deleted. 
This state might go undetected for a longer time, and removing such stale nodes in order for the services to continue functioning as intended requires manual intervention.

This is fixed now and the functioning of HA services using ZooKeeper-based leader elections is more reliable.

### resilience

A more robust handling of PSU changes which remove pool, unit or group
mappings was introduced.

Recently introduced improvements changed the way resilience handles file "removal"
(no longer setting the repository entry to 'removed'
but simply by caching the replica).
This change, however, did not take into account
the handling of broken files.  Encountering
a broken file, it would indiscriminately attempt
to remove it, whether it was cached or not;
this was leading to an infinite loop, with the
file operation continuously iterating without
doing any further work. This situation could potentially hang the pool scans
(if there are as many broken files as there are
scan threads), and even the file operation
queue. The current release fixed this issue and there is no  any potential for stalled
operations when encountering broken replicas.


### Changelog 5.2.26..5.2.27

<!-- git log 5.2.26..5.2.27 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[76048255b3](https://github.com/dcache/dcache/commit/76048255b3a8f6f07186ef95e208095f926ffd0d)
:   [maven-release-plugin] prepare release 5.2.27

[837e45d090](https://github.com/dcache/dcache/commit/837e45d090d13cb31aef66c793ee69decd93811f)
:   dcache-core: fix embedded ZooKeeper persisting stale ephemeral nodes

[53f0401450](https://github.com/dcache/dcache/commit/53f0401450dd3f6e5acd8d8b9626f3f86d235731)
:   dcache-resilience: ignore broken cached files

[f0fa8ac73b](https://github.com/dcache/dcache/commit/f0fa8ac73b71840d85a7bfd6b91cc5160b18b8b3)
:   dcache-resilience: protect access of pool info map against NoSuchElementException

[0da727a6ec](https://github.com/dcache/dcache/commit/0da727a6ec14abd1171327630d91579634fce9f8)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.26

### macaroons

Fixed macaroons validation where in case of multiple combined caveats for some of them only the digital signature was checked.

### resilience

If a FileOperation is canceled while its subtask is running a NullPointerException was thrown. This is now fixed.


### Changelog 5.2.25..5.2.26

<!-- git log 5.2.25..5.2.26 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[4d0802bc06](https://github.com/dcache/dcache/commit/4d0802bc066a89f86f6734916f2890826221f314)
:   [maven-release-plugin] prepare release 5.2.26

[fbdc2791e6](https://github.com/dcache/dcache/commit/fbdc2791e64b43321b1245223b290569531badbe)
:   dcache-resilience: avoid NPE in file operation cancel

[6cd2960032](https://github.com/dcache/dcache/commit/6cd2960032db83ac14732742506c9dacf8945ef9)
:   macaroons: verifyCaveat should return false for unprocessed caveats

[7faa85e9c8](https://github.com/dcache/dcache/commit/7faa85e9c8d8e9ef19cd80841b3b085ea8301bcd)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.25

### cleaner

Database passwords can now be stored in a dedicated file.


### pool

Failing HTTP-TPC transfers where the remote party sends a 
malformed RFC 3230 checksum value are now fixed.


### util

The current release fixed pgpass file handling for jdbc URLs with options, like 
jdbc:postgresql://dbhost:5432/foo?prepareThreshold=3



### Changelog 5.2.24..5.2.25

<!-- git log 5.2.24..5.2.25 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[b5862742aa](https://github.com/dcache/dcache/commit/b5862742aafe12e9467974df3bcdb87c899e70e2)
:   [maven-release-plugin] prepare release 5.2.25

[6bc9442a7f](https://github.com/dcache/dcache/commit/6bc9442a7f36213e9e28790159865437c43cf3ff)
:   pool: do not fail transfer if RFC3230 is badly formed.

[b691a090ad](https://github.com/dcache/dcache/commit/b691a090add30ea388a7c28ebb2160250dd981cc)
:   util: fix pgpass support for jdbc urls with options

[140d894ae0](https://github.com/dcache/dcache/commit/140d894ae08c126480321aa7b438797a99cffb98)
:   cleaner: add support for db password file

[2340df1866](https://github.com/dcache/dcache/commit/2340df1866720a4e1ded6289b9efd40396070753)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.24

### pool

The current release fixed interrupted p2p transfer issue and the pool should not be disabled.


### Changelog 5.2.23..5.2.24

<!-- git log 5.2.23..5.2.24 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[be7786d](https://github.com/dcache/dcache/commit/be7786dd3b1915a55ba0976081ce2d61ffe5d5e2)
:   [maven-release-plugin] prepare release 5.2.24

[48a57b6](https://github.com/dcache/dcache/commit/48a57b69fa69e4a22937aaf976e8182292139cc1)
:   pool: rework interrupt processing on p2p

[0e34a61](https://github.com/dcache/dcache/commit/0e34a61e2c02308268153355546a7d5ed749c46f)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.23

### common

dCache no longer logs OIDC access tokens or macaroon.


### dcache-xrootd

The version is upgrated to xrootd4j 3.5.7 with lossen username validation, so that

usernames like `foo.1234:56` are no longer rejected. 


The current release fixed  java.lang.IllegalStateException: ChecksumChannel must not be written to after getChecksums.

TPC client first will be shut down when
the pool netty channel goes inactive.



### pnfsmanager


The current release fixed a  NullPointerException when a file is deleted while a directory listing
is being compiled.

### pool

When a legacy mover is killed by job timeout manager thread interruption
mechanism is used. As mover thread is taken from a thread pool, the next
task might see this interrupted state, if not cleared. This state can be
checked bu other components and trigger false errors: java.lang.InterruptedException THREAD_INTERRUPTED: InterruptedException.

This is now fixed and  pool is not disabled itself after slow running mover is killed by jtm.


### Changelog 5.2.21..5.2.23

<!-- git log 5.2.22..5.2.23 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[7efd6d4](https://github.com/dcache/dcache/commit/7efd6d454d9ecfe0b14a7db799cf97ef2767fd09)
:   [maven-release-plugin] prepare release 5.2.23

[c5be7e9](https://github.com/dcache/dcache/commit/c5be7e98825319af38a8df5ebf952ce143f665dd)
:   pnfsmanager: avoid NPE if file is deleted during directory listing

[a2499b4](https://github.com/dcache/dcache/commit/a2499b4946ea605b3c21f8a71b9259b2bbae4a39)
:   common: do not log bearer token values.

[299b60d](https://github.com/dcache/dcache/commit/299b60deb5c853594d6e2cf0594e537eba3fec58)
:   pool: rework interrupt processing in AbstractMoverProtocolTransferService

[158e153](https://github.com/dcache/dcache/commit/158e1532485f18acc66f14ce655343fd048dfaa7)
:   dcache-xrootd: bump to xrootd4j 3.5.7

[fcf57f0](https://github.com/dcache/dcache/commit/fcf57f02da46e0f249d25cf73daaf7e10a7a268e)
:   pool: clean interrupted state after mover complete (again)

[a6d5a2d](https://github.com/dcache/dcache/commit/a6d5a2d502e6cfac5800623b3664d7c080ce11f0)
:   pinmanager: use PoolManagerStub when talking to pool manager

[c3b1d2c](https://github.com/dcache/dcache/commit/c3b1d2c98cdefd7808d617928b5311250b610bb4)
:   pool: clear mover thread's interrupted state before returning to pool

[bd1ff48](https://github.com/dcache/dcache/commit/bd1ff481d57774d2296fb3ff5ea7e9b4a863a7c6)
:   wrap the client shutdown with a try ... catch for InterruptedException

[ae4d50a](https://github.com/dcache/dcache/commit/ae4d50a52afe6c0f411efeb429ed76fc59cbb845)
:   dcache-xrootd: cancel TPC transfer when client disconnects unexpectedly from pool

[952a2ef](https://github.com/dcache/dcache/commit/952a2efb037d08513727d31b611f00e9e41f8594)
:   [maven-release-plugin] prepare for next development iteration



<!-- git log 5.2.21..5.2.22 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[0157190](https://github.com/dcache/dcache/commit/01571900bf183b1fd9372559f2a226be29a7ddaf)
:   [maven-release-plugin] prepare release 5.2.22

[626080c](https://github.com/dcache/dcache/commit/626080cca79459e8b5aad2619726ad82615c9826)
:   pool: repository account capacity correctly if file channel closed

[8fad854](https://github.com/dcache/dcache/commit/8fad854091a74a3239cad559f209fade2813dc92)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.21

### frontend

The frontend's inotify-over-SSE now honour the 'frontend.root'
configuration property and any user-specific root.  This
means that, for any inotify subscription, the path is
calculated relative to the doors' root and the user-specific root.
For many dCache sites, this has no impact as they are using the
default for both; however, the user root is used to implement the 
macaroon's 'root' caveat.  The current release  fixed how inotify
subscription requests are processed when made with a macaroon with a 'root'
caveat.


### pool

When making an HTTP third-party copy (HTTP-TPC), dCache no longer sends
the 'Authorization' HTTP request header in any subsequent request when
the remote server responds with a redirection.



The unix xrootd tpc security plugin was included in order to
enable the dCache TPC client to use a dCache pool as source
when signed hash verification is on. However, this is now fixed  and
no special configuration necessary for organizations (like Tier 1)
needing to communicate with EOS.  



### Changelog 5.2.20..5.2.21

<!-- git log 5.2.20..5.2.21 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[86cf625](https://github.com/dcache/dcache/commit/86cf6255eb03d115c5aef468073857ecb6ce683f)
:   [maven-release-plugin] prepare release 5.2.21

[b6f83b6](https://github.com/dcache/dcache/commit/b6f83b65cd971274a58d9742b3a9c500191ed54c)
:   pool (xrootd): make tpc security plugin default unix

[5931f53](https://github.com/dcache/dcache/commit/5931f5369970a8cbc29025d176b31c995695f24d)
:   docs: add missing architecture diagram

[2c0713b](https://github.com/dcache/dcache/commit/2c0713b645110b5c55d454f0f499459cc5a6f36c)
:   frontend: honour door and user root for inotify subscriptions

[f48066b](https://github.com/dcache/dcache/commit/f48066b7c2cd5b560c881bdc572d82ceafcc5be8)
:   frontend: refactor inotify client-path to dCache-path mapping

[7503540](https://github.com/dcache/dcache/commit/75035403dd1ad1f42fb78a50b3208f4e5146af4a)
:   frontend: add SelectionContext for event subscription

[d4d4e26](https://github.com/dcache/dcache/commit/d4d4e263eae06bbe7095437928032db28dcdd413)
:   pool: drop Authorization HTTP header on redirected

[eb1a180](https://github.com/dcache/dcache/commit/eb1a1802da5d06301ffdb5df9b85d63a3f66b158)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.20

### frontend

When frontend is run in a core domain and there is
no history service reachable, the retry on no route
to cell ends up spamming the message queues. This is now fixed.


### login-broker

The `lb set update` command ignored the provided value and set the
existing one again. This is now fixed and  `lb update time`s can be modified through admin interface.

### nfs

The current release added modifications such as do not wait for mover to shutdown for reads, which was  blocking client and wait until mover is actually stopped. This modification resulted slight performance improvement for IO on small files.


### xrootd

The current release fixed compatible level security for sigver. 

The xrootd client has a command-line option, `--path`, which
tells the server to create missing directories. This option
is included in two-party copy, but setting it for TPC has
no effect. TPCs which wish to write to dCache (as destination)
to a non-existent subdirectory fail. This is now fixed and dCache no longer fails in these cases.


### Changelog 5.2.19..5.2.20

<!-- git log 5.2.19..5.2.20 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[8016208](https://github.com/dcache/dcache/commit/80162087d5529ea95e127db2185139cdd4d54665)
:   [maven-release-plugin] prepare release 5.2.20

[62780c7](https://github.com/dcache/dcache/commit/62780c75a658d65195affdfd5dadf314f7f7d4e9)
:   login-broker: fix 'lb set update' command

[1c65a81](https://github.com/dcache/dcache/commit/1c65a8176a4f3ec249ec5d7040f3f20cdac32f56)
:   nfs: do not wait for mover to shutdown for reads

[df87ccd](https://github.com/dcache/dcache/commit/df87ccd9d6330878fe9cc65c88b6240e23beb4f2)
:   dcache-xrootd: always create missing directories on write

[27ebaee](https://github.com/dcache/dcache/commit/27ebaee15989f2ded7f1ed28cd5023f7a75db754)
:   dcache-xrootd: fix compatible level security for sigver

[d6cb494](https://github.com/dcache/dcache/commit/d6cb4940194d68e8ad1cb759a0062cc85427c519)
:   dcache-frontend: remove retry flag on sendAndWait to history service

[bd99bf4](https://github.com/dcache/dcache/commit/bd99bf438ad8e8d346cc7fc88bc08da0409a08dc)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.19

### nearline-storage

There were issues  in pool space allocation/de-allocation in conjunction
to HSM connectivity and handling restore errors resulting in failing stage end up with used space miscalculation:
`pool_read, fault occurred in repository: Internal repository error. Pool restart required:,
 cause: java.lang.IllegalArgumentException: Cannot set used space to a negative value`.

This is now fixed and disk copy is removed if restore from HSM failed.



### Changelog 5.2.18..5.2.19

<!-- git log 5.2.18..5.2.19 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[5cda208](https://github.com/dcache/dcache/commit/5cda20825fbd4f693c672f799d3a23ff9d2e3919)
:   [maven-release-plugin] prepare release 5.2.19

[8b69757](https://github.com/dcache/dcache/commit/8b69757ff636e55f2226b3b64ade8ad4c9ba0ba9)
:   nearline-storage: remove disk copy if restore from HSM failed

[45c56be](https://github.com/dcache/dcache/commit/45c56be26f961e1938b6eb9d12d6a0df13107c42)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.18

### dcache

QOS migration policy engine was  raising JVM error when no tape pool found. 
This is now fixed and the normal behavior is that HTTP error code reported back with `No HSM pool found`.
 
### frontend

The current release improved error responses and they are more specific  now.

The current release fixed the NPE  stack trace arised because the pool
data could be sent with a default sweeper data
object. 


### Changelog 5.2.17..5.2.18

<!-- git log 5.2.17..5.2.18 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[498232c](https://github.com/dcache/dcache/commit/498232ccb2056b707152389cf5e62ebde9736fdf)
:   [maven-release-plugin] prepare release 5.2.18

[1a4a541](https://github.com/dcache/dcache/commit/1a4a541569618630ca8e810c66958e5d60ce880d)
:   dcache-frontend: make ErrorResponseProvider return the more specific error message

[03b6a51](https://github.com/dcache/dcache/commit/03b6a512215334e53c2e9545043af3fe9acf9281)
:   dcache: qos migration policy engine should not raise JVM error when no tape pool foundMotivation:

[dc146fe](https://github.com/dcache/dcache/commit/dc146fe4048f96b3c488b1a384604b4d2dbe7b2d)
:   dcache-history,dcache-frontend: guard against unconfigured sweeper histogram

[d8c769b](https://github.com/dcache/dcache/commit/d8c769b29b3ebd02fc2149ae76f13b526001f523)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.17

### frontend

From RESTful admin API, the POST to
`pools/{name}/usage/mode -d {"rdonly":true}` failed  but `{"rdonly": "true"}` succeeded.

This is fixed now and both boolean and string work.

The current release fixed a bug where an SSE client that receives many events without the
connection breaking will eventually exhause all memory in the JVM.

The current release fixed stack trace in logs.


### Changelog 5.2.16..5.2.17

<!-- git log 5.2.16..5.2.17 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[e7a24a8](https://github.com/dcache/dcache/commit/e7a24a80a4740fd74c8d1a1a4d6db0b86d341fa7)
:   [maven-release-plugin] prepare release 5.2.17

[f1d3759](https://github.com/dcache/dcache/commit/f1d3759bff8501e5b0d33f5d08a2f42ade47f297)
:   dcache-frontend: allow pool enable/disable to use boolean JSON value

[fcfe98a](https://github.com/dcache/dcache/commit/fcfe98a33a59e3bc6d1d2b42ff08bf13c9632c65)
:   dcache-frontend,history: protect against missing highest bin in histogram data

[d80363a](https://github.com/dcache/dcache/commit/d80363a724e068060e04e5dd268d3ce5ecc407be)
:   frontend: fix memory leak in long-running SSE connections

[35014bb](https://github.com/dcache/dcache/commit/35014bb4ddd14398295a82f4d7a9649363238ee3)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.17

### frontend

From RESTful admin API, the POST to
`pools/{name}/usage/mode -d {"rdonly":true}` failed  but `{"rdonly": "true"}` succeeded.

This is fixed now and both boolean and string work.

The current release fixed a bug where an SSE client that receives many events without the
connection breaking will eventually exhause all memory in the JVM.

The current release fixed stack trace in logs.


### Changelog 5.2.16..5.2.17

<!-- git log 5.2.16..5.2.17 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[e7a24a8](https://github.com/dcache/dcache/commit/e7a24a80a4740fd74c8d1a1a4d6db0b86d341fa7)
:   [maven-release-plugin] prepare release 5.2.17

[f1d3759](https://github.com/dcache/dcache/commit/f1d3759bff8501e5b0d33f5d08a2f42ade47f297)
:   dcache-frontend: allow pool enable/disable to use boolean JSON value

[fcfe98a](https://github.com/dcache/dcache/commit/fcfe98a33a59e3bc6d1d2b42ff08bf13c9632c65)
:   dcache-frontend,history: protect against missing highest bin in histogram data

[d80363a](https://github.com/dcache/dcache/commit/d80363a724e068060e04e5dd268d3ce5ecc407be)
:   frontend: fix memory leak in long-running SSE connections

[35014bb](https://github.com/dcache/dcache/commit/35014bb4ddd14398295a82f4d7a9649363238ee3)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.16

### frontend

The current release added  support for OIDC names and Client-IDs with spaces.


### Changelog 5.2.15..5.2.16

<!-- git log 5.2.15..5.2.16 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[b69aa19](https://github.com/dcache/dcache/commit/b69aa197b146f37afbfe398812b7fa69e44d5659)
:   [maven-release-plugin] prepare release 5.2.16

[1ce186a](https://github.com/dcache/dcache/commit/1ce186ac1518064c37183274ff1294de81229e36)
:   dcache, frontend: release dcache-view version 1.5.7

[af1c9ca](https://github.com/dcache/dcache/commit/af1c9ca8fa550ae74741646dc5b151ff050b6167)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.15

### dcache-xrootd

Now door does not fail to start if there
is no voms directory on the host.

### frontend

The current release removed unnecessary login requirement on restores and transfers.

The current release fixed a bug in the frontend if the inotify events are used.

### skel

The current release repaired erroneous batch directives before cell creation.

Now it is fixed and domain is not left in zombie state
after a fatal error, but restarts,
as it should.

### srm

Now   host IP is used for comparison when determining if SURL is local.


### Changelog 5.2.14..5.2.15

<!-- git log 5.2.14..5.2.15 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[a178d50](https://github.com/dcache/dcache/commit/a178d50fdb5eb9f14a54810f5e3b2ff7912eb130)
:   [maven-release-plugin] prepare release 5.2.15

[93f930b](https://github.com/dcache/dcache/commit/93f930b1c00a8915e09ee8113f1050ce30339453)
:   skel: repair erroneous batch directives before cell creation

[264117c](https://github.com/dcache/dcache/commit/264117c5c910c9c0d9ccd77b0426f5f8945cd196)
:   dcache-xrootd: don't initialize delegation provider when there is no gsi module

[173c4af](https://github.com/dcache/dcache/commit/173c4af04414a9527eb7ba36c356eb9981b84e67)
:   dcache-frontend: remove unnecessary login requirement on restores and transfers

[38b27a9](https://github.com/dcache/dcache/commit/38b27a944e171d48afa2cf4766604a4b23cd7f74)
:   srm: use host IP for comparison when determining if SURL is local

[2296705](https://github.com/dcache/dcache/commit/2296705a5105e8f4b8ce70afea064618852d0a54)
:   frontend: events inotify fix deadlock

[35fed0c](https://github.com/dcache/dcache/commit/35fed0c6c90da8a26f745663ffad6f1ff35d0d39)
:   dcache,frontend: release dcache-view version 1.5.6

[9cc78e8](https://github.com/dcache/dcache/commit/9cc78e875da95e97be8b652ba1978b37c4105afb)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.14

### cell


Curator client was not able to restore the connection to ZK server after
network partitioning. The is now fixed.


### skel

The current relase fixed tape-reserved size calculation.
### webdav

The current release fixed, where the WebDAV door failed to follow RFC 4918.
This make some clients reject dCache WebDAV door as a valid WebDAV
endpoint.



### Changelog 5.2.13..5.2.14

<!-- git log 5.2.13..5.2.14 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[fd8e9e9](https://github.com/dcache/dcache/commit/fd8e9e9cdbcae91d3b9727c2e95273ed29eda9ca)
:   [maven-release-plugin] prepare release 5.2.14

[5e2f441](https://github.com/dcache/dcache/commit/5e2f441e30b1de01ded9367c76c92d9593cf7af8)
:   Fix tape-reserved size calculation

[e53ea3a](https://github.com/dcache/dcache/commit/e53ea3ab2242a2c44339ecf564af06fc7c1e57d7)
:   webdav: include DAV header in OPTIONS requests.

[ef58be4](https://github.com/dcache/dcache/commit/ef58be4b57c434c0bcc4340c7751236e18c66d8b)
:   cells: do not re-define zookeeper watcher

[da8aa45](https://github.com/dcache/dcache/commit/da8aa45a878db0e46bbd8ed60d85e6e89e3f70a9)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.13

### canl

The current release updated lib version to 2.5.1.

### gplazma

The current release fixed URL-prefix SciToken parsing and error handling if JWT contains
malformed SciToken scopes.

### webdav

When making a cross-origin call to webdav door from e.g.
the frontend by using dcache-view, this call would be
blocked if the client want to forward the user certificate.
This is now fixed.


### Changelog 5.2.12..5.2.13

<!-- git log 5.2.12..5.2.13 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[5bcc20e](https://github.com/dcache/dcache/commit/5bcc20e875a1ce1b31102b9e40165f8c139f1adc)
:   [maven-release-plugin] prepare release 5.2.13

[cb79d64](https://github.com/dcache/dcache/commit/cb79d6470148d90bbd6b07bf94fd3bef73f46a9d)
:   gplazma: scitoken add unit tests and fix SciTokenScope

[1d0a126](https://github.com/dcache/dcache/commit/1d0a126659cf9e6aa1ad42d2742e69c1ec124367)
:   webdav : set Access-Control-Allow-Credentials to true

[5713218](https://github.com/dcache/dcache/commit/5713218e0de83cf43117a1fa1ad55f31ffab40a9)
:   canl: update to version 2.5.1

[6b66cf2](https://github.com/dcache/dcache/commit/6b66cf24a0519fb44dcf8c8a8365789d1a92affc)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.12

### chimera

Enstore client, encp, stores information in layer 4 (level_4). It
was natural to assume that files written directly by encp would have
NEARLINE/CUSTODIAL AccessLatenct/RetentionPolicy. Although, setting
of access latency interferes with QoS.

This is fixed no and `encp` does not interfer with file access latency (say if it is specified to
be ONLINE).

### config

A typo in the dcap config file was fixed correcting 
`dcacp.enable.kafka` to  `dcap.enable.kafka`.
 
### frontend

The current release fixed a NPE bug  (which is then logged as a stack-trace) that
is triggered when the reply does not contain a media type. 

### gplazma

The SciToken plugin will now reject any JWT where there is none of the
expected scopes defined. This allows dCache to support both
OpenID-Connect and SciTokens.

### webdav

The current release fixed an issue of  transfers through dCacheView when the webdav door is configured with
empty `webdav.allowed.client.origins` value, which is the default value. 


### Changelog 5.2.11..5.2.12

<!-- git log 5.2.11..5.2.12 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[2859046](https://github.com/dcache/dcache/commit/2859046422025b6c7f1642b51bcef08d52ef0509)
:   [maven-release-plugin] prepare release 5.2.12

[a07b585](https://github.com/dcache/dcache/commit/a07b5854f5fc2a9f11a7f7123c965e0bfaa6566c)
:   frontend: avoid NPE when request has no media type

[f42f51d](https://github.com/dcache/dcache/commit/f42f51d4e1c48aa58a1070fba49a1e1bb7a4686a)
:   dcache: add null check to pool info collector util

[289ea51](https://github.com/dcache/dcache/commit/289ea51d5d13c6cb98d5f1e7b1d3acbde384cb6e)
:   config: fix typo in property name

[a4dc031](https://github.com/dcache/dcache/commit/a4dc03110f173406c350e7b9798104d98ad03ea5)
:   chimera: do not update access latency on updat/insert in level_4

[2e037c0](https://github.com/dcache/dcache/commit/2e037c09fc84d3329074c0e775bd35ac5ef58cb4)
:   gplazma: scitoken fix two issues with SciToken plugin

[aeb2c30](https://github.com/dcache/dcache/commit/aeb2c308a2f0807d3a6b8a5df7825abe9eac59ff)
:   webdav: fix CORS when all clients are allowed to connect

[fb453df](https://github.com/dcache/dcache/commit/fb453df893fe0bc3253677cdf43d3fbb0d7d20e6)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.11

### srm

The current release fixed  a problem resulting in high CPU use in SrmManager if clients are
attempting to pin a file and PinManager is unavailable.


A regression fixed  where SrmManager will reject all QUEUED jobs and
INPROGRESS BringOnline requests on restart, if there are no SRM doors
running when SrmManager starts.


### Changelog 5.2.10..5.2.11

<!-- git log 5.2.10..5.2.11 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[b0dba87](https://github.com/dcache/dcache/commit/b0dba8765e1527ed6762825bce3c6d01fc619dd1)
:   [maven-release-plugin] prepare release 5.2.11

[0e57e10](https://github.com/dcache/dcache/commit/0e57e10976d3f8ca886fde4acf92e993b681a637)
:   SrmManager: fix handling of saved requests on start-up

[009f623](https://github.com/dcache/dcache/commit/009f623677a15350f0126bfcb57b30509bc2da48)
:   SrmManager: avoid spamming if PinManager is down

[8db6df3](https://github.com/dcache/dcache/commit/8db6df398607d252aa893ff0710f325a744ef8f6)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.10

### doors

The current release fixed a bug  where running the `lb set tags` admin command without any
arguments triggers a NullPointerException.

### pool

The current release improved  error messages about jobs cancellation.

### scripts

The dcache-storage-descriptor command no longer requires a URL argument.


### Changelog 5.2.9..5.2.10

<!-- git log 5.2.9..5.2.10 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[d5096b2](https://github.com/dcache/dcache/commit/d5096b2a7ef2410ad35559c554a17c7189a2fa93)
:   [maven-release-plugin] prepare release 5.2.10

[dabb072](https://github.com/dcache/dcache/commit/dabb072c7259f59030a98ffba9942fd3c0861100)
:   doors: fix "lb set tags" command with no arguments

[686be7b](https://github.com/dcache/dcache/commit/686be7bae5ca4299631fd3084313888abba46a0e)
:   pool: improve messages when migration job is cancelled.

[34b50e3](https://github.com/dcache/dcache/commit/34b50e389f0d8a9ab1c1a3aa177830da218db7f0)
:   scripts: fix variable ordering in dcache-storage-descriptor

[9a71d94](https://github.com/dcache/dcache/commit/9a71d948332104933d3c2ac90db50a84dc945e36)
:   docs: TheBook add chapter on SRR

[fd4e37d](https://github.com/dcache/dcache/commit/fd4e37d7b08b62f431728bd29afb79beb290a71d)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.9

### dcache


The current release restored  pool compatibility with doors sending `Xrootd-2` protocol version.

### gplazma

The SciToken gplazma plugin now supports the audience (`aud`) claim
where the claim's value is an array. This allows dCache to support
SciTokens with multiple audience values.

### pool

Pool health-check log messages now include the pool's name.

### webdav

On an unsuccessful HTTP-TPC pull request, dCache will delete the file.
If  this deletion did not work then an error was  logged. This is fixed now and 
failures to delete the incomplete file from a failed HTTP-TPC pull
request, where the incomplete file has been deleted by some other means
are now logged at DEBUG level, rather than WARN level.

### xrootd

The current release refited checksum handling after xrootd4j bug fix. 


### Changelog 5.2.8..5.2.9

<!-- git log 5.2.8..5.2.9 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[1f8567d](https://github.com/dcache/dcache/commit/1f8567d1b06b56b62267878ea0d6711311884272)
:   [maven-release-plugin] prepare release 5.2.9

[847222b](https://github.com/dcache/dcache/commit/847222b6e863bc1e431df9751c8220575176a962)
:   dcache-xrootd: refit checksum handling after xrootd4j bug fix

[5419fda](https://github.com/dcache/dcache/commit/5419fdaada0cdc506ef0c21fa412fcfe12bf3851)
:   webdav: avoid logging non-error as an error

[ca96e1d](https://github.com/dcache/dcache/commit/ca96e1d5707bf828849e4419a2fbbbe4cd26adf7)
:   pool: include pool name in health-check reports

[b1f4aa4](https://github.com/dcache/dcache/commit/b1f4aa4c94d94fb4c3b2a2c1acb82e6e9dd61453)
:   gplazma: scitoken add support for multiple audience claims

[63a2620](https://github.com/dcache/dcache/commit/63a262030612cb1529ae96d07ed714c6396d9a13)
:   build(deps): bump jackson-databind from 2.9.10 to 2.9.10.1

[e289df7](https://github.com/dcache/dcache/commit/e289df7ce57db337627172f17c6f6db9ba6474ef)
:   dcache: restore pool compatibility with doors sending 'Xrootd-2' protocol version

[3d64e71](https://github.com/dcache/dcache/commit/3d64e7162d7671d46a5fec10c6fdf5d0ae68bdb9)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.8

### frontend

The current release fixed QoS pin semantics.

A bug is fixed in frontend that results in a NullPointerException for
billing queries where no limit is specified.

### srm

Investigation into tape carousel has highlighted limitations in what
dCache logs. In particular, information about the pin lifetime for
srmBringOnline is missing.

This is now fixed and dCache SRM access logging contains information about client's desired
pin lifetime in srmBringOnline requests.

### xrootd

The current release  refined error handling by providing  more meaningful (or at least consistent) error responses
to the client.


### Changelog 5.2.7..5.2.8

<!-- git log 5.2.7..5.2.8 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[7a67863](https://github.com/dcache/dcache/commit/7a678639834c641451bb3257ee4e25afc39f4167)
:   [maven-release-plugin] prepare release 5.2.8

[7da9409](https://github.com/dcache/dcache/commit/7da9409eb2729b87394dd0b2a4df9e2d4abfedc1)
:   frontend: fix NPE if limit is not specified

[1956d34](https://github.com/dcache/dcache/commit/1956d34f2768bd5f04a4e8bee691e5bfc917b718)
:   srm: improve access logging of srmBringOnline requests.

[b081289](https://github.com/dcache/dcache/commit/b0812892948f4525638dc17aad0d48f43790f113)
:   dcache-frontend: fix QoS pin semantics

[9b1f54a](https://github.com/dcache/dcache/commit/9b1f54abcce4b718c11b48f0062bd4753a277dec)
:   dcache-xrootd: refine error handling

[865710c](https://github.com/dcache/dcache/commit/865710ca45f1886a1b12be241dd7312765939fff)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.7

### Changes affecting multiple services

The Apache Commons Compress library used in dCache was updated to version 1.19.

A rare deadlock situation in the Chimera database was eliminated. In cases
where, within the same directory, concurrent mkdir and rmdir events happened,
transactions within the database could deadlock. This would be indicated by the message

    ERROR: deadlock detected

in the logs.

### pool

A regression introduced in the last release caused a ClassNotFoundException on pool startup
with a message like

    [ERROR] Server responded with an error: [3012] Failed to open file (Protocol Xrootd-4.0:123.32.123.32:38374 is not supported [27])
    
appearing in the logs. This release fixes that issue.

There were reports of extraordinarily high CPU usage on pool nodes with a large
number of cached files. Through an optimization of the `sweeper`, CPU usage
was reduced significantly.

### xrootd

This release fixes a small regression in the `kill mover` command that 
would occasionally fail to kill all targeted movers.

This release fixes a vulnerability in dCache's XRootD protocol implementation. 
We recommend that all sites update their XRootD doors.
Details will be made available through EGI Security and, in a week's time, through an
update to these release notes.


### Changelog 5.2.6..5.2.7

<!-- git log 5.2.6..5.2.7 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[2e98b03a4f](https://github.com/dcache/dcache/commit/2e98b03a4fe9203e02cef050adf12995246e1c37)
:   [maven-release-plugin] prepare release 5.2.7

[47ab7704ba](https://github.com/dcache/dcache/commit/47ab7704ba03f283994d4a22177f4bc4259244ee)
:   dcache-xrootd: honor read paths when listing directories

[6a62dac6dc](https://github.com/dcache/dcache/commit/6a62dac6dc300c62a838a610e7b9da3e55f1303c)
:   pool: fix the xrootd version number on pool transfer service

[3950434553](https://github.com/dcache/dcache/commit/39504345534fd62d489e54b172076aef3d3b8df7)
:   resilience: don't compare Integer objects by refference

[85d2e6b470](https://github.com/dcache/dcache/commit/85d2e6b470f9a1b86542281ac78a2ce12f7a1bdf)
:   xrootd: fix `kill mover` command

[f13708238d](https://github.com/dcache/dcache/commit/f13708238d168674f098f940f1b2debf85ba09ad)
:   doors: initialize IdentityResolverFactory after dependency injection

[18f63397cf](https://github.com/dcache/dcache/commit/18f63397cf7c8ba2ebf966c55bba5bac31811e9a)
:   sweeper: use in-memory map instead of repository for histogram data

[76d52b26ac](https://github.com/dcache/dcache/commit/76d52b26ac8e5dfb4d1b2c655ba4283232b6967e)
:   dcache-xrootd: replace constants for version number

[44ec827db0](https://github.com/dcache/dcache/commit/44ec827db07bd479b4fd2ed102459a45b6ddb618)
:   dcache-xrootd: update protocol version numbers

[0c4f84f18c](https://github.com/dcache/dcache/commit/0c4f84f18c04d12023626706e07554a24cf72e6c)
:   libs: update apache.commons:commons-compress to 1.19

[0d8144d766](https://github.com/dcache/dcache/commit/0d8144d766c98f5ef28f48224408a49ae10abc3f)
:   chimera: fix ABBA db deadlock when mkdir and rmdir run concurrently

[37daa02f8a](https://github.com/dcache/dcache/commit/37daa02f8acc37d1872565d882df29bec37995c4)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.6

### dcap

dcap door could not  handle out-of-date errors. This is now fixed.

### gplazma

The current release fixed  thread leak by explicitly close NamingEnumeration


### Changelog 5.2.5..5.2.6

<!-- git log 5.2.5..5.2.6 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[5ab8c5a](https://github.com/dcache/dcache/commit/5ab8c5a85384eeec59bc7198c0f16d6fa38742be)
:   [maven-release-plugin] prepare release 5.2.6

[cc6e167](https://github.com/dcache/dcache/commit/cc6e167b4e0028e05cea74ce914c7bec1e093cb9)
:   dcap: restart pool selection on OUT-OF-DATE error

[74e08dc](https://github.com/dcache/dcache/commit/74e08dc21041b461c76d59a086732bd5ab05b3c1)
:   gplazma-ldap: avoid thread leak by explicitly close NamingEnumeration

[14e67d1](https://github.com/dcache/dcache/commit/14e67d1010f99da56b5e92015d48ff9e75ee32da)
:   libs: update jackson-databind to 2.9.10

[df306ed](https://github.com/dcache/dcache/commit/df306ede98bce3df15205928c51079e892d4ab0a)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.5

### chimera

Admins may require to change top-level tags in the middle of a
directory tree and those tags should be propagated to all subdirectories.
To support this a recursive update tag command is required.

Admins now  can `set/update` and push directory tags as:

````

`chimera:/# writetag /exports/data foo-tag foo`
`chimera:/# pushtag /exports/data foo-tag`

### nfs

The current release added ability to set file checksum(s) via dot command.

### pool

The current releasse improved metadata check speed on pool re-start. 

### resilience

If there was two replicas, one of which was precious,
and some change was triggered which reduces the required count
for the file to 1, the removal operation was failing. This behavior is now fixed. 

### srm

A new user community requires the srm tools to be able to handle
very large file listings. During preliminary tests, OutOfMemory
errors from the srmls tool were observed. This is now fixed and 
srm can now support operations on very large file lists
without running out of memory.

### webdav

The current release added allow header to list of response headers for OPTION method
request.


### Changelog 5.2.4..5.2.5

<!-- git log 5.2.4..5.2.5 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[4faec49](https://github.com/dcache/dcache/commit/4faec49cda602a5aab390cf615d46da455cb90c6)
:   [maven-release-plugin] prepare release 5.2.5

[8f217bc](https://github.com/dcache/dcache/commit/8f217bc2d8d67a9ef3e839b95fd232e87b132e8a)
:   httpd: escape status field in HttpPoolMgrEngineV3

[def422e](https://github.com/dcache/dcache/commit/def422ea5449c46badb339338fede5c693c24ec0)
:   webdav: add allow header to OPTION method request

[a8edd03](https://github.com/dcache/dcache/commit/a8edd039876988369de80680ce290ad998ca6504)
:   nfs: support ability to set file checksum(s) via dot command

[fc0bd33](https://github.com/dcache/dcache/commit/fc0bd3382de22ba08a5b5779dafdb66d7f4744bb)
:   chimera: add command to push tags into subdirectories

[cbd868d](https://github.com/dcache/dcache/commit/cbd868dbaf71ad596db23d88763bef81edc5c094)
:   libs: use h2 version 1.4.199

[ad0a8e6](https://github.com/dcache/dcache/commit/ad0a8e6066cd26ca74020b33ae8c356b0dbbde60)
:   srm: Remove JVM memory limits

[eed5b71](https://github.com/dcache/dcache/commit/eed5b7134de2916abd4d73316c751d119eda5c50)
:   resilience: fix remove count when replica is precious

[1ce9a9d](https://github.com/dcache/dcache/commit/1ce9a9d5c2e9b58ff544f9fc05bea377b6a388ee)
:   chimera: update ctime on checksum set and remove

[c01691c](https://github.com/dcache/dcache/commit/c01691cdf4bdc5ed8dda64fcb5d9b75a6e9bc502)
:   Update config-zookeeper.md

[3e4ab82](https://github.com/dcache/dcache/commit/3e4ab826ec87599bb95ee86c04477fb1b25beb9f)
:   dcache: fix RepositorySubsystem unit test NPE

[73eb4d4](https://github.com/dcache/dcache/commit/73eb4d4176b39fe0e1df8b4e409f18c7c4c04d51)
:   pool-repository: Improve metadata check speed on pool re-start.

[33a8aaa](https://github.com/dcache/dcache/commit/33a8aaa99e5de36491efb3ac8914fc28e8dde67d)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.4

### common

The current release fixed formatting of error message in Checksum. 

### frontend

Admins may now configure frontend to specify in which country (or
countries) data may be stored. This information is visible through
dCacheView.

### gplazma

The current release fixe remote reading of JSON with UTF-8 CharSet and dCache can now work with OPs that use `utf-8` charset.

### nfs

The current release added  ability to get valid checksum types via NFS.
Usage  `cat ".(checksums)()"`. Returns a new-line delimited list of checksum type names.

### util

The current release improved log messaging so that CDC context is available in during retries.

### Changelog 5.2.3..5.2.4

<!-- git log 5.2.3..5.2.4 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[b5c6b56](https://github.com/dcache/dcache/commit/b5c6b56d6394906141e03475421e7142a03bd944)
:   [maven-release-plugin] prepare release 5.2.4

[17032a6](https://github.com/dcache/dcache/commit/17032a64d257eca598ea252ce741d18801f0bbb1)
:   nfs: checksum types dot command

[4f31c1c](https://github.com/dcache/dcache/commit/4f31c1cdfb576b21783c16e34b847d3eb9c5afc4)
:   frontend: make geographic placement configurable

[6e85512](https://github.com/dcache/dcache/commit/6e8551231c196bd136d532e0ce02faca2412d356)
:   common: fix formatting of error message in Checksum

[069d9eb](https://github.com/dcache/dcache/commit/069d9ebcd6ca2f486c714f5feee8aa193624f7cf)
:   scitoken: fix remote reading of JSON with UTF-8 CharSet

[f457d8a](https://github.com/dcache/dcache/commit/f457d8ac7d43270a4c372725fd18ef96dbfbcd65)
:   util: decorate retry executor with CDC-aware wrapper

[774fe07](https://github.com/dcache/dcache/commit/774fe07a8fc3a090c8b2b020382f3b92ce81d9f1)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.3

### nfs

NPE on "show transfers" command is now fixed.

### webdav

The current release fixed CORS for WebDAV doors that do not allow anonymous
access; in particular, to support dCacheView uploading
and downloading files with such authentication-required
WebDAV doors.


### Changelog 5.2.2..5.2.3

<!-- git log 5.2.2..5.2.3 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[cf0ed9a](https://github.com/dcache/dcache/commit/cf0ed9a1f841740cc0352ff25eee7345b8c387e5)
:   [maven-release-plugin] prepare release 5.2.3

[4dfd693](https://github.com/dcache/dcache/commit/4dfd693568a86ba5c8370fd9ba998ed21d27178c)
:   nfs: fix NPE on "show transfers" command

[db319cb](https://github.com/dcache/dcache/commit/db319cb270eb359ac52cd96e5c3f628b5a453f64)
:   docs: Update UserGuide to use guide-specific navigation header

[638ef78](https://github.com/dcache/dcache/commit/638ef78bb0df0140dd8b211e06ffac49b841ac6f)
:   webdav: fix cross origin resources sharing issue

[f2d488f](https://github.com/dcache/dcache/commit/f2d488fcbe8a842d1209fa17b2f489ba78905f35)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.2

### chimera

The shell infrastructure supports commands being given interactively, on
the commandline (e.g., 'chimera mkdir /path/to/dir') and from stdin
(e.g., 'echo "mkdir /path/to/dir" | chimera'). `chimera` now supports the latter
case and properly shows command output when invoked in that fashion. 

### frontend

This release updates dCache View to 1.5.5.

### nfs

The NFS door now correctly handles situations where newly created read-only
files could occasionally not be written into:

    f = os.open('test.txt', os.O_WRONLY|os.O_CREAT, 0400)
    os.write(f,"Hello pNFS!")
    os.fsync(f)
    os.close(f)

will now succeed.

### webdav

A client may issue a PUT request that targets an existing collection
resource; i.e., attempt to write a file as a path that is a directory.
dCache, until now, responded with an incorrect status code of 500. This release
changes the status code for this operation to 405 (Method not allowed), 
thus keeping closer to RFC 4918.

### xrootd

This release improves compatibility with the xrdcp client in versions \>4.9
by responding correctly to query strings requesting a specific checksum type.


### Changelog 5.2.1..5.2.2

<!-- git log 5.2.1..5.2.2 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[f69d003419](https://github.com/dcache/dcache/commit/f69d0034192df38bc430ea17b756c6603391e715)
:   [maven-release-plugin] prepare release 5.2.2

[e7023b90cf](https://github.com/dcache/dcache/commit/e7023b90cf30beee6117b5f426b15477e46e2451)
:   dcache, frontend: release dcache-view version 1.5.5

[231163b4bf](https://github.com/dcache/dcache/commit/231163b4bfd527510a06ed52338c7385fe1efbf4)
:   nfs: introduce workaround 'permission deny' on layout commit

[5b01c29f8a](https://github.com/dcache/dcache/commit/5b01c29f8a7032900a6290df9705a27fee36dfb0)
:   chimera: chimera shell should show output when commands come from stdin.

[9712188578](https://github.com/dcache/dcache/commit/9712188578865353d093e3955d13f9a426ad067c)
:   webdav: return 405 status code for PUT requests targeting collections

[a0cb14ce62](https://github.com/dcache/dcache/commit/a0cb14ce62cb0c7e7fe92a6983c381927b63422f)
:   dcache-xrootd: add checksum cgi handling to door query

[2c89042850](https://github.com/dcache/dcache/commit/2c890428506750cd6c96ca7a65486e0a570e182c)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.1

### frontend

dCache View was updated to version 1.5.4.

### ftp

This release fixes a regression that would cause erroneous NullPointerExceptions when FTP doors were probed by HAProxy.

### many

The `dcache pool ls` command now provides correct output even if the pool is
defined with a single-digit number of bytes. 

### pool

The default value for the xrootd Third-Party Copying server response 
timeout, `pool.mover.xrootd.tpc-server-response-timeout`, was 
increased from 2 to 30 seconds to provide more robust behaviour 
in the face of high loads and network congestion.

### transfermanager

Error messages where the TransferManager is unable to discover the
current status of the pool mover now include the pool's name.

### xrootd

This release fixes an issue that would cause high CPU load on xrootd.

TPC lite (delegation) is now more robust when communicating with EOS destinations.

XRootD doors now correctly communicate their TPC capabilities to clients.


### Changelog 5.2.0..5.2.1

<!-- git log 5.2.0..5.2.1 -no-merges -format='[%h](https://github.com/dcache/dcache/commit/%H)%n:   %s%n' -->

[16792c33ed](https://github.com/dcache/dcache/commit/16792c33ed951d8a7db5a2dabfe45eb49ed274bd)
:   [maven-release-plugin] prepare release 5.2.1

[b5d705b92b](https://github.com/dcache/dcache/commit/b5d705b92bab8e28cfe06443120f64bec7e1c8b5)
:   scripts: avoid copy-n-paste error when calculating pool size

[f71b0a14de](https://github.com/dcache/dcache/commit/f71b0a14deaeeb9ede67965dbd61a3f8b02110e6)
:   dcache-xrootd: check the session for credential on source open

[7d32476800](https://github.com/dcache/dcache/commit/7d32476800cdf5173023d7ea5968c29523fa6284)
:   dcache-xrootd: respond to tpc query correctly*

[a4749b2843](https://github.com/dcache/dcache/commit/a4749b2843d08481039e800a34d6a4aac42ae201)
:   dcache-xrootd: compute VOMs CA refresh interval using unit

[ba7b902a4e](https://github.com/dcache/dcache/commit/ba7b902a4e066b3cab56496c41fd34539eb118ff)
:   dcache, frontend: release dcache-view version 1.5.4

[d60f840f3a](https://github.com/dcache/dcache/commit/d60f840f3a7d55f4a43eec4d9936241dc9508893)
:   pools: make the xrootd tpc response timeout less aggressive

[d13d5a9a45](https://github.com/dcache/dcache/commit/d13d5a9a45e554256d80619ddbc7b6e6ab2c9e52)
:   transfermanager: include pool name in error for 'mover ls' failures

[969af6d25e](https://github.com/dcache/dcache/commit/969af6d25e5459e4e8c8226e68f6cd037b6f0185)
:   ftp: avoid NPE on HA-Proxy probes

[5b3cf0e620](https://github.com/dcache/dcache/commit/5b3cf0e62058b89282751fb02847a8684971989c)
:   [maven-release-plugin] prepare for next development iteration

## Release 5.2.0

### Admin

The interactive admin shell gained two improvements in logging: Log entries from admin commands now include the SSH session-ID,
and commands that were executed through the admin shell are logged in detail. An example: 

    level=INFO ts=2019-05-02T12:49:58.518+0200 event=org.dcache.services.ssh2.connect remote.socket=/2001:638:700:xx:52224
    level=INFO ts=2019-05-02T12:49:58.561+0200 event=org.dcache.services.ssh2.login username=admin remote.socket=/2001:638:7xx:52224 method="PublicKey (RSA SHA256:al9RPdXETJXX)" successful=true
    level=INFO ts=2019-05-02T12:50:06.657+0200 event=org.dcache.services.ssh2.exec username=admin cmd.args="\\c PoolManager"
    level=INFO ts=2019-05-02T12:50:12.000+0200 event=org.dcache.services.ssh2.exec username=admin cmd.destination=[>PoolManager@core-dcache-lab] cmd.args="rc ls"

### Alarms

The alarms system gained some improvements in logging, such as reporting the originating pool name in `POOL_DEAD` messages.
Additionally, messages can be sent directly to Kafka. The new properties `dcache.log.kafka.topic`, for setting the topic
name, and `dcache.log.level.kafka` to set the log level, were added to configure this feature.

### Billing

The database tables `billinginfo`, `storageinfo`, `doorinfo` and `hitinfo`
can, if desired, be automatically truncated. This allows a logrotate-style
approach to limiting the growth of the billing database, which
can fill up quickly over the course of time if there is a lot of
door activity.

A built-in cron can be set to run every 24 hours in order to remove
older rows from these "fine-grained" tables.

The following properties are relevant:

    billing.enable.db-truncate (default = false)
    billing.db.fine-grained-truncate-before (default = 365)
    billing.db.fine-grained-truncate-before.unit (default = DAYS)

### Chimera

The Chimera database now keeps track of the time when a file was added to the trash table. This timestamp
is stored in the `ictime` field of `t_locationinfo_trash`.

### Cleaner

The cleaner now can wait a specified amount of time after deletion before file finally get removed from pools
and HSM. Two new properties were added to control this behaviour:

    cleaner.service.grace-period = 0
    cleaner.service.grace-period.unit = SECONDS

### Frontend

The HTTP access log now includes HTTP Entities (if they were present in the request) to facilitate debugging.

Additionally, the frontend now provides useful, minimal logging of API requests in the access log file.

Periodic activity associated with the frontend door is now logged with the
door's cell name.  Such messages will also appear in the door's pinboard.

### FTP

The default settings for the logging of aborted FTP transfers were changed, so that Sites that upgrade to dCache v5.2 will now automatically log aborted
transfers. The reason for that change is that it provides post mortem information about
transfers where the client received less data than it requested. Enabling it only after someone reports a problem could be too late (if the
problem is not reproducible).

The log entries for aborted transfers now also include detailed information about the cause of the issue, as well as being more compact.

### gplazma

As for several other services, logging was improved to make troubleshooting easier. Failed login attempts using OpenID-Connect, particularly from dCacheView, are now logged.

### Info

The info service now list a domain's zone as the metric
'domains.*domain-name*.static.zone', if the domain is configured to have
a zone.  If the domain is not configured with a zone then this metric is
not published.

### NFS

When a pNFS client using the `flexfile` layout reports a connection error to a pool, then, as an alternative to just logging the issue, an alarm will be raised.

Periodic activity associated with the NFS door is now logged with the
door's cell name.  Such messages will also appear in the door's pinboard.

### Pool

The timeout for XRootD 3rd-party-copying responses was increased to 30 seconds, making operations more robust.

Pool start-up logging is now recorded against the corresponding pool cell name.

A pool now includes a 'zone' tag where the value is zone within which
the pool resides.  Pools no longer accept the tag 'zone'.

Various internal changes should make pool operations in general more robust.

### Pool Manager

In a situations, where for a given READ access two links are available and there are no pools available at
link with a higher priority, then a pool from a lower link priority will be selected if file is available.

### Resilience

Resilience is now able to use a CACHEd file as a replication source in cases where no STICKY copy is available.
This also means that a cached initial copy (such as
if a resilient pool is marked lfs=volatile and
is chosen by the pool manager) will not stop
resilience from creating the requisite number of
permanent copies.

Various other changes make Resilience's operations more robust.

### Transfer Manager

Error messages where the TransferManager is unable to discover the
current status of the pool mover now include the pool's name.

An optimization to retrying mover operations makes Transfer Manager's operations more efficient: 
If a pool does not support a particular transfer type, retries on that pool will not even be attempted.

### WebDAV

Periodic activity associated with the WebDAV door is now logged with the
door's cell name.  Such messages will also appear in the door's pinboard.

### XRootD

The client timeout is now configurable through two new properties or, alternatively, an interactive admin command.

The Third-party embedded client has a timer which will interrupt and return
an error if the response from the server does not arrive after a given
amount of time.

The default values for this can be controlled by the properties:

    pool.mover.xrootd.tpc-server-response-timeout
    pool.mover.xrootd.tpc-server-response-timeout.unit

These are set to 2 seconds iby default, matching the comparatively aggressive behavior of the SLAC
implementation.  However, dCache allows you to control this dynamically
as well, using the admin command

    \s <xrootd-door> xrootd set server response timeout

This could conceivably be necessary under heavier load.

### Zookeeper

The Zookeeper library was updated to version 3.4.14, addressing CVE-2019-0201.

### Changelog from 5.1.0 to 5.2.0


[a4749b2843](https://github.com/dcache/dcache/commit/a4749b2843d08481039e800a34d6a4aac42ae201)
:   dcache-xrootd: compute VOMs CA refresh interval using unit

[ba7b902a4e](https://github.com/dcache/dcache/commit/ba7b902a4e066b3cab56496c41fd34539eb118ff)
:   dcache, frontend: release dcache-view version 1.5.4

[d60f840f3a](https://github.com/dcache/dcache/commit/d60f840f3a7d55f4a43eec4d9936241dc9508893)
:   pools: make the xrootd tpc response timeout less aggressive

[d13d5a9a45](https://github.com/dcache/dcache/commit/d13d5a9a45e554256d80619ddbc7b6e6ab2c9e52)
:   transfermanager: include pool name in error for 'mover ls' failures

[969af6d25e](https://github.com/dcache/dcache/commit/969af6d25e5459e4e8c8226e68f6cd037b6f0185)
:   ftp: avoid NPE on HA-Proxy probes

[5b3cf0e620](https://github.com/dcache/dcache/commit/5b3cf0e62058b89282751fb02847a8684971989c)
:   [maven-release-plugin] prepare for next development iteration

[a329e2d7a6](https://github.com/dcache/dcache/commit/a329e2d7a6704b01741c8e9692e9d9a9e7ebcda1)
:   [maven-release-plugin] prepare release 5.2.0

[2804dcdcb9](https://github.com/dcache/dcache/commit/2804dcdcb920db518bf84451ab52cb3a5eb3e6b5)
:   Revert "docker: Add a way to create docker image"

[4fb9567392](https://github.com/dcache/dcache/commit/4fb956739239d7c7ec6e69c32e5e8c497eea1552)
:   [maven-release-plugin] prepare branch 5.2

[796e4bf6fb](https://github.com/dcache/dcache/commit/796e4bf6fbca5db0913cd0101d5a0f24258cf16b)
:   core: add support for Properties prefix configuration

[a1c615ae50](https://github.com/dcache/dcache/commit/a1c615ae50151b8ed6b3a7dacbaf4f82a6386522)
:   pool: include diagnostic context when logging why a replica was removed

[481e5ec180](https://github.com/dcache/dcache/commit/481e5ec180db56d97432d9c92c3bfb15c362aa12)
:   libs: use jersey-2.28

[4e3e760523](https://github.com/dcache/dcache/commit/4e3e76052320445b522b0c833c78de82eb9cd0e4)
:   pom: move dependency version information into parent pom

[de09a3a6af](https://github.com/dcache/dcache/commit/de09a3a6af7c98050de0f90ce01fe3a594b55827)
:   nfs: raise an alarm when client reports connection issues with a pool

[c1f7183f3c](https://github.com/dcache/dcache/commit/c1f7183f3c3853847382793417a965f1c1552dcc)
:   poolmanager: don't fallback selection links by default

[bb94ab1599](https://github.com/dcache/dcache/commit/bb94ab15991f2e95c87de644ecafcb47d7261aa0)
:   UnpinProcessor: add logging

[2377c86beb](https://github.com/dcache/dcache/commit/2377c86beb00c10c6f2f8147de61b8f0c291fbef)
:   frontend: add HTTP entities in the access log file.

[300db762c5](https://github.com/dcache/dcache/commit/300db762c5e039e428c92dd6736ec0c580047f60)
:   cells: remove safety buffer and enforce exit on OOM

[9a85d76cce](https://github.com/dcache/dcache/commit/9a85d76cce3f5c77346cca9fe330c48d7ea57590)
:   core: fix pool selection in killAll command of TransferManager

[3dc0af4cb8](https://github.com/dcache/dcache/commit/3dc0af4cb8566bb43efea7d8f5ea3b1221444a9c)
:   nfs: enforce charset encoding when processing dot files

[487dac8e81](https://github.com/dcache/dcache/commit/487dac8e8150ec7e6602cdea54f31ea574354e9a)
:   chimera: remove historic code

[f20fa88ed2](https://github.com/dcache/dcache/commit/f20fa88ed2b1b251bd41126b9bca2f458954af77)
:   pool: avoid IllegalStateException in 'csm check *' command

[650063856b](https://github.com/dcache/dcache/commit/650063856bc825d99d50db9671ecaa6ab2a39200)
:   frontend: add basic access logging

[388e6d2b6a](https://github.com/dcache/dcache/commit/388e6d2b6acb1c34e425a84d89f28e95b6aa44c7)
:   dcap: fix premature close of kafka sender

[7885b185b6](https://github.com/dcache/dcache/commit/7885b185b6afb4cf33e84fc85f8e6ad072432894)
:   sweeper: compute now after the values have been fetched

[f853024421](https://github.com/dcache/dcache/commit/f8530244213eeaeb7dd01103373e2adc0cb2d84e)
:   dcache-xrootd: add ability to override default timeout for server response (TPC)

[2244b9a5ff](https://github.com/dcache/dcache/commit/2244b9a5ffa3772ed88636b0eaefeeb74b7c5e5e)
:   dcache: abstract common features of HTTP access logging

[21b1650492](https://github.com/dcache/dcache/commit/21b1650492a76b22a4fa26c21ac7601631370f75)
:   frontend: include CDC in scheduled activity

[f41b4a9d1b](https://github.com/dcache/dcache/commit/f41b4a9d1b3f288921e4c23a85463983fbd71a40)
:   nfs: include CDC in scheduled activity

[c334ea1c58](https://github.com/dcache/dcache/commit/c334ea1c58e68997c272a3f686b1d7d1acf4a84f)
:   webdav: include CDC in scheduled activity

[61de56a69c](https://github.com/dcache/dcache/commit/61de56a69c43cf1620f920fe558595a3f07d751c)
:   pool: ensure initialisation thread has correct CDC information

[71723b8c39](https://github.com/dcache/dcache/commit/71723b8c392ec151d8896a1b2693ea1ac9978f03)
:   dcache-xrootd: fix delegation client lifecycle management

[768ff98f1a](https://github.com/dcache/dcache/commit/768ff98f1a97085491fbf5503d52ad28e833407d)
:   pinmanager: add LoggingDao to monitor changes in persistent state.

[1461b4c3f1](https://github.com/dcache/dcache/commit/1461b4c3f1b8448db0d53e488a2797e9b9fec744)
:   gplazma: consider bearer token when deciding whether to log failures

[bf7e4ea5b5](https://github.com/dcache/dcache/commit/bf7e4ea5b527287d0f8e03bac8610084a6cee3e9)
:   gplazma: add extra OIDs for Key-Usage

[f424d8b376](https://github.com/dcache/dcache/commit/f424d8b376374240b0dee114984801cae125eb48)
:   cells: remove unused constructor for AbstractCell

[0d5ac9cb3b](https://github.com/dcache/dcache/commit/0d5ac9cb3b28a34c428656c1414d7656d182237f)
:   pinmanager: fix issues with logging context of background activity

[8d4db2d0f2](https://github.com/dcache/dcache/commit/8d4db2d0f21403f4ecaf2c43b77c43f0473eff66)
:   cells: work-around Curator creating custom ThreadFactory

[b528098af8](https://github.com/dcache/dcache/commit/b528098af8dc9a2d8ab136606dc7a16b6f2bebf3)
:   cleaner: add grace period before files get cleaned

[d34292dc30](https://github.com/dcache/dcache/commit/d34292dc303412f330929136e636f8408caef8c9)
:   pool: update replica commands to use CommandException

[654bde3daf](https://github.com/dcache/dcache/commit/654bde3daf191708c6a365d320146e38f392997b)
:   TimeUtils: use 'now' when describing the current time

[cd2d04e72d](https://github.com/dcache/dcache/commit/cd2d04e72dd5dc10b7eadc97c2341329c049c8d6)
:   cleaner: stop using deprecated guava API

[e12f41993d](https://github.com/dcache/dcache/commit/e12f41993df9f9851a5376c609ec218113008679)
:   chimera: keep track when a file was added into trash table

[4c99ed65c5](https://github.com/dcache/dcache/commit/4c99ed65c55ed71b39fb2fac74728b6d025e0826)
:   libs: use zookeeper-3.4.14

[4009541521](https://github.com/dcache/dcache/commit/40095415213ce976605ba4609647bc8d0022bbd8)
:   common: allow counting histogram to accept negative values

[040c86b1d6](https://github.com/dcache/dcache/commit/040c86b1d60944bf85aa4f7f83ecd9f334e8ee6d)
:   pool (sweeper): catch negative file lifetime value

[bdaf63f0a1](https://github.com/dcache/dcache/commit/bdaf63f0a11b75f6191168e4cdf2bc0e878864ae)
:   dcache: cleaned up pool admin command outputs

[a770085352](https://github.com/dcache/dcache/commit/a770085352f38f77a957f7fb0f44f58a2710e2d0)
:   PinManager: change info message

[b36b612add](https://github.com/dcache/dcache/commit/b36b612adde1440a4f2327b2b0cfa04aaaf42577)
:   pinmanager: add logging info

[bab39ae28f](https://github.com/dcache/dcache/commit/bab39ae28f5969bbc8ce755deaa2becc610ecd6a)
:   pom: use jackson-databind/annotations/core version 2.9.9 CVE-2019-12086

[1faec76731](https://github.com/dcache/dcache/commit/1faec767318013aab60308bb12bbb0573f7f01ef)
:   UnpinProcessor: fix assumed typo `{)`

[f77fd77e27](https://github.com/dcache/dcache/commit/f77fd77e274159a0b02f06aa74bfa0a4ce184afd)
:   webdav: allow transfers as user with role 'admin'

[cbf920fd55](https://github.com/dcache/dcache/commit/cbf920fd5501f3d2032cfcd701308cf3979d2689)
:   pinmanager: avoid NPE if no argument given for 'bulk ls' command

[8225651652](https://github.com/dcache/dcache/commit/8225651652e7d08d0aef7d7fd882030a449b7ea7)
:   pool: add 'zone' tag

[563aaf9273](https://github.com/dcache/dcache/commit/563aaf927340b1a3a6cd55ff98291f60ad5c37f8)
:   Pgpass file permission for POSIX (Issue #4670) (#4682)

[b1dfe06a79](https://github.com/dcache/dcache/commit/b1dfe06a79f953c7e878a07426f46b774e526a64)
:   alarms: add pool name to POOL_DEAD alarm

[2c5abae30e](https://github.com/dcache/dcache/commit/2c5abae30ee34f6c400ad4042d201e5c9a2441bc)
:   cells: add support classes to learn in which zone they reside

[aea1c4b4a5](https://github.com/dcache/dcache/commit/aea1c4b4a5b793b83ec7406600a6c5700506052e)
:   cells: make tunnels aware in which zone the remote domain resides

[9379199b77](https://github.com/dcache/dcache/commit/9379199b77582690be2db0324df987afbbab83e5)
:   info: publish a domain's zone

[27cb88fdfd](https://github.com/dcache/dcache/commit/27cb88fdfde5a7ed4c6fe8d8d607da4464a45148)
:   pool: fix reordering of removable replicas on access

[d2472e4edc](https://github.com/dcache/dcache/commit/d2472e4edcb04724f3c4ff5a9a93d828c9a3c4f7)
:   pool: fix storage of replica last access time

[b03d514de4](https://github.com/dcache/dcache/commit/b03d514de4e2378d351627130cbcd0b8ca5d72f0)
:   ftp/pool: enable aborted transfer logging by default

[619d9ee193](https://github.com/dcache/dcache/commit/619d9ee193cf8ec48eaa068eed5935c0cadf2822)
:   pool: ftp include cause in aborted transfer report

[be1f0e1a99](https://github.com/dcache/dcache/commit/be1f0e1a997c08321c3988d5105ae665b3ecb3cb)
:   pool: ftp avoid printing useless information in abort log

[c05ccad2e0](https://github.com/dcache/dcache/commit/c05ccad2e08f4a11e8055718972c62adb4079ae9)
:   cells: add zone concept

[d5e308f90d](https://github.com/dcache/dcache/commit/d5e308f90d1db3ae13f67acd90abc81045215914)
:   Revert "dcap: fix premature close of kafka sender:"

[68c2ddc60d](https://github.com/dcache/dcache/commit/68c2ddc60d59661043e73b98958634fbdd52c456)
:   dcap: fix premature close of kafka sender:

[12d872d53e](https://github.com/dcache/dcache/commit/12d872d53e205c9474eef59a3fc55f9f04e7ba99)
:   dcache-resilience: account for waiting states

[babd708540](https://github.com/dcache/dcache/commit/babd708540530a0f007817ea939a5c101923ffc0)
:   dcap/pinmanager: stage request for unknown location results in NPE

[571ad60872](https://github.com/dcache/dcache/commit/571ad6087260ee5973355ff1940616cbf5145601)
:   admin: include SSH session-ID in admin command logs

[2852519e21](https://github.com/dcache/dcache/commit/2852519e21232553ea8de4f1f899c0a2f522b96b)
:   pool: inotify avoid race in IN_CLOSE_WRITE event

[ca21bdd8f6](https://github.com/dcache/dcache/commit/ca21bdd8f6bcf5d589ebb3908e7cdc4f27359846)
:   libs: use jetty 9.4.18.v20190429

[9e34434e35](https://github.com/dcache/dcache/commit/9e34434e35950dc0235c9f2027b60dd78a171af9)
:   dcap batch : fix handling of dcap.kafka.topic variable

[348b459990](https://github.com/dcache/dcache/commit/348b45999058eb58ffbf6db8e4d3379776fc54e4)
:   pool: remove dummy VFS used by NFSv4MoverHandler

[8ad4ca3a7a](https://github.com/dcache/dcache/commit/8ad4ca3a7a6f054afdd22f374ab53666b9d9ed97)
:   jetty: make CanlContextFactory subclass of jetty.ssl.SslContextFactory.Server

[b91240daff](https://github.com/dcache/dcache/commit/b91240daffd69f91516dcd656cf411d697979113)
:   frontend: fix race on client reconnecting

[3823f5008d](https://github.com/dcache/dcache/commit/3823f5008d4882b6a24bf29d59a16b2bbde96275)
:   docs: UserGuide reformat JSON to be more consistent, fix some JSON errors

[2ae15e3138](https://github.com/dcache/dcache/commit/2ae15e3138c14fd486a59430edd2017b73696b38)
:   docs: UserGuide override prism's CSS to leave space for drop-shadow

[2ba2a67d9b](https://github.com/dcache/dcache/commit/2ba2a67d9bf3c8b04caed3f975e391fe5c5973d8)
:   ssh: add session to access log file

[be520165b4](https://github.com/dcache/dcache/commit/be520165b4b1c699675cac7c1b0fd7b4fc5b090f)
:   dcache (billing db): add capability for automatic truncation of fine-grained info tables

[1f3424199d](https://github.com/dcache/dcache/commit/1f3424199d7b0007171677d24b9b0b9e96da36e1)
:   admin: log executed commands into access log

[abe853ea47](https://github.com/dcache/dcache/commit/abe853ea47622869f385bac4012680d8aa7bc7ff)
:   docs: Added link to Transport Security chapter

[4f8b8ba486](https://github.com/dcache/dcache/commit/4f8b8ba486268766302c8ef47a329d7b585efa37)
:   11667: dcache-xrootd: add full proxy delegation to door

[c68f470a80](https://github.com/dcache/dcache/commit/c68f470a809f15aea9e12398ee968bfd46fdd76e)
:   docs: Added link to Transport Security chapter

[d4f481c36e](https://github.com/dcache/dcache/commit/d4f481c36e6e58f8e4a7dc209508a8755a0c5238)
:   11667: dcache-xrootd: add full proxy delegation to door

[b02a110df8](https://github.com/dcache/dcache/commit/b02a110df84831ba1c0ddce64071d5179f7f6f30)
:   dcache-xrootd: implement proxy delegation client

[35cd7adc11](https://github.com/dcache/dcache/commit/35cd7adc11836a90799c675b122ebeffb89ba519)
:   dcache-resilience: allow cached file as source when no sticky available

[a389f5c6e7](https://github.com/dcache/dcache/commit/a389f5c6e7ff4f81f99efc2721159da59d52d843)
:   pom:  jackson.databind, jackson.annotations, jackson.core version 2.9.8 CVE-2018-14719

[0b43b86d73](https://github.com/dcache/dcache/commit/0b43b86d73acca0ab22a4552494e13ee724156e0)
:   pom:  use jackson-databind, jackson.annotations, jackson.core to 2.9.6

[5b5d951096](https://github.com/dcache/dcache/commit/5b5d9510968cd2100d138e75d4cd61960fc14e3b)
:   alarms: sending alarms events in json format

[120f702739](https://github.com/dcache/dcache/commit/120f702739f1cdb9b97a8b259ec1806574c33180)
:   pom: use jetty 9.4.17.v20190418

[4ed4cd0474](https://github.com/dcache/dcache/commit/4ed4cd047448b11dbc83b89b3b24f63da7d94e22)
:   Update frontend.md

[4ca91914cb](https://github.com/dcache/dcache/commit/4ca91914cb6816b06ea2732cc0cbe7805d4805cc)
:   Update frontend.md

[265917aeb0](https://github.com/dcache/dcache/commit/265917aeb07346fb8a73ece9c352269d8ae448e9)
:   Update frontend.md

[1d30b6bb8a](https://github.com/dcache/dcache/commit/1d30b6bb8adde9ab3feceef824e1dd5be9c175d8)
:   Update frontend.md

[3bb992ff60](https://github.com/dcache/dcache/commit/3bb992ff605ad15de694d30672ba5d22f1297efa)
:   Update frontend.md

[a4d9cc6abe](https://github.com/dcache/dcache/commit/a4d9cc6abe94f6e2e92081b1fbbc5beff1171208)
:   Update frontend.md

[701929dc9d](https://github.com/dcache/dcache/commit/701929dc9d45c60d1244a018e239e25a8ad1546f)
:   Update frontend.md

[5c60f86127](https://github.com/dcache/dcache/commit/5c60f86127d43493e1f63f6d2506b5b256a51bc2)
:   Update frontend.md

[6d00809bbd](https://github.com/dcache/dcache/commit/6d00809bbd17b35b3fac36b93721b0e097602d7d)
:   Update frontend.md

[128336e247](https://github.com/dcache/dcache/commit/128336e2472fd81cbb8ede53d8d90a5beeec9710)
:   Update frontend.md

[ebacac4297](https://github.com/dcache/dcache/commit/ebacac429704d2e0409fdfe2043ca3f4d58fe64e)
:   Update frontend.md

[bfe4f5070f](https://github.com/dcache/dcache/commit/bfe4f5070f50a68f27ec31d2b906f8d21d9df977)
:   Update frontend.md

[f71577d640](https://github.com/dcache/dcache/commit/f71577d64066bb2f371b99acdd488983690f457c)
:   Update frontend.md

[844fd839da](https://github.com/dcache/dcache/commit/844fd839da25cfeb11ec4cc629c54ff660bcc9d2)
:   Update frontend.md

[1149f0595f](https://github.com/dcache/dcache/commit/1149f0595fc03d44883fd70026f265ea3f0312ee)
:   Update frontend.md

[f5298f20c7](https://github.com/dcache/dcache/commit/f5298f20c7eb35d24b815729ccf580a3a7708384)
:   Update frontend.md

[1e2a4ca139](https://github.com/dcache/dcache/commit/1e2a4ca139d10059f5dfcb3a422db46678f48a66)
:   Update frontend.md

[8eccff1f8a](https://github.com/dcache/dcache/commit/8eccff1f8a5c3c7292c81b0fd92de23690e6fdae)
:   Update frontend.md

[b07d3faf68](https://github.com/dcache/dcache/commit/b07d3faf684e381276fa7f05f2401d053398123f)
:   docs: UserGuide add drop-shadow for images and pre-formatted text

[3bdb9a9ce5](https://github.com/dcache/dcache/commit/3bdb9a9ce5caf8d47e362323f7f972d5568de3b7)
:   docs: UserGuide add initial skeleton version of macaroons chapter

[7e2bfeb16e](https://github.com/dcache/dcache/commit/7e2bfeb16ed038a82a0710a769f5e3e1aaf86789)
:   docs: UserGuide frontend tidy up minor problems

[5e78c3b5bf](https://github.com/dcache/dcache/commit/5e78c3b5bf746557e40aa373d4108cb1e5833b01)
:   docs: UserGuide frontend add SwaggerUI images

[2f4db801bd](https://github.com/dcache/dcache/commit/2f4db801bd71f387edae4e194cfe1577d90f0083)
:   docs: UserGuide drop the excessive inter-line spacing.

[d5a35fd6ab](https://github.com/dcache/dcache/commit/d5a35fd6ab6ccef1c99538ca1c54f88a3db942c2)
:   docs: UserGuide add support for console output

[30b0f423a4](https://github.com/dcache/dcache/commit/30b0f423a47ea9db571695140efb46dc74644d9c)
:   docs: UserGuide frontend avoid too many console copy-n-paste, focus on JSON

[c8943140ab](https://github.com/dcache/dcache/commit/c8943140ab10d12d34dc749d2e9da0ccdfcb5d05)
:   resilience: add unit tests for new task operations and to check non-sticky processing and removal semantics

[124b3e92aa](https://github.com/dcache/dcache/commit/124b3e92aab6fefba64515f092010724ee5aadeb)
:   resilience: eliminate the 'new pool' flag (no longer necessary)

[c367e9fad8](https://github.com/dcache/dcache/commit/c367e9fad850e4ff83560cf11edf38fc7ded313f)
:   resilience: do full pool replica state verification and change remove semantics

[232604b78e](https://github.com/dcache/dcache/commit/232604b78ef541d82e729206657d269ef639399a)
:   resilience: adjust synchronization of file operation removal from map

[5ffed3902d](https://github.com/dcache/dcache/commit/5ffed3902ddc1438c3a1ad76eae1669058904c73)
:   pool: avoid throwing a RuntimeException for non-bugs

[dbea103273](https://github.com/dcache/dcache/commit/dbea10327352facc16c97fb57b25268bfd494e27)
:   docs: mode info on dynamic pool groups

[ef7870fd6e](https://github.com/dcache/dcache/commit/ef7870fd6e7785f5ccbc294fe7a1ef62efec3b07)
:   Add initial support for code highlighting with prism.js

[04bd4708e0](https://github.com/dcache/dcache/commit/04bd4708e0e4b461cfade2c0cf6a19259543bc04)
:   alarms: add logback Kafka Appender

[9e1ec493c7](https://github.com/dcache/dcache/commit/9e1ec493c7b3af78c311eb5a52aeece5f60b2e5c)
:   docs: TheBook UserGuide fix location of edit-me-on-github ribbon

[ae8ba0b3ab](https://github.com/dcache/dcache/commit/ae8ba0b3abc43edb05fd10e12cfd33035979614f)
:   docs: TheBook update heading importance to be more consistent

[e8092bd281](https://github.com/dcache/dcache/commit/e8092bd281fded06e11525d95d5d11c4f4819947)
:   transfermanager: do not retry starting mover if transfer is not supported

[e6d48431b9](https://github.com/dcache/dcache/commit/e6d48431b9b75ebc0a17d3849285fda116297505)
:   pool: avoid log-and-throw anti-pattern

[ed41f74110](https://github.com/dcache/dcache/commit/ed41f741106d787bc07fd38ee37e0fd2527ed4c4)
:   frontend: ensure client is disconnected when shutting down channel

[82adce7015](https://github.com/dcache/dcache/commit/82adce7015a16fcf0cdb2e1e9b97dd485b6aba3b)
:   frontend: avoid race on cancelling channel garbage-collect task

[a06637cf15](https://github.com/dcache/dcache/commit/a06637cf150fd5531eb02a8e3503bf000dc808ac)
:   transfermanager: avoid NPE on shutdown

[0c80d91596](https://github.com/dcache/dcache/commit/0c80d91596b451a9f246add9e7d7c3e0d1675845)
:   pool: throw exception with meaningful error message

[ead326ffea](https://github.com/dcache/dcache/commit/ead326ffea0d1dd3987805aa8e40b002de901e36)
:   docs: UserGuide frontend add section on doors, minor tidy up in events

[01a4ef3f12](https://github.com/dcache/dcache/commit/01a4ef3f12a4962dd383e8c1988fe41e743fec83)
:   docs: UserGuide frontend add information about client identifier

[c4af495fb9](https://github.com/dcache/dcache/commit/c4af495fb923f65ef8e7937d6c3ccb0220f8580c)
:   docs: UserGuide frontend add links between the various QoS activities

[cc249e0ae7](https://github.com/dcache/dcache/commit/cc249e0ae7883b13069cc01d333613e6196b5315)
:   docs: UserGuide frontend add examples showing events in action

[3fbbaec073](https://github.com/dcache/dcache/commit/3fbbaec07300057541ab5ff9839e1e3d8976a03a)
:   docs: UserGuide add second-level in table-of-contents

[fc9351c833](https://github.com/dcache/dcache/commit/fc9351c833d7919a3f5631319f2a3201d09ebe72)
:   docs: UserGuide add missing information about namespace stat flags

[8a99fe1540](https://github.com/dcache/dcache/commit/8a99fe15401de140bf9fc577caba08fafe3d2112)
:   docs: UserGuide frontend add index to aid navigation

[f58d3cf3ad](https://github.com/dcache/dcache/commit/f58d3cf3adb682c5f9ec34287683d344a3b88e5b)
:   docs: UserGuide frontend add more information about inotify

[36d22e25c1](https://github.com/dcache/dcache/commit/36d22e25c10feec8b155c34269a3b2dd37c573c6)
:   docs: UserGuide frontend be more consistent with line splitting

[8e77a71058](https://github.com/dcache/dcache/commit/8e77a71058bc5c693fe4b181fb191ae6e49fef8a)
:   docs: UserGuide frontend add details about event channels

[54de2c9d32](https://github.com/dcache/dcache/commit/54de2c9d322407ca150105175a45d362987a98d2)
:   docs: UserGuide frontend add initial description of events

[72d233d6cf](https://github.com/dcache/dcache/commit/72d233d6cf3518a4bb189687a4a0d42954368335)
:   [maven-release-plugin] prepare for next development iteration



</div>
</div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js" type="text/javascript"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"
        integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>


